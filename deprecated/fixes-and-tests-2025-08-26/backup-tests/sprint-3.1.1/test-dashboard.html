<!DOCTYPE html>
<html>
<head>
    <title>Sprint 3.1.1 Test Results</title>
    <style>
        body { font-family: Arial, sans-serif; margin: 20px; }
        .test-result { padding: 10px; margin: 10px 0; border-radius: 5px; }
        .pass { background-color: #d4edda; border: 1px solid #c3e6cb; color: #155724; }
        .fail { background-color: #f8d7da; border: 1px solid #f5c6cb; color: #721c24; }
        .test-link { display: block; margin: 10px 0; padding: 10px; background: #e9ecef; text-decoration: none; color: #495057; border-radius: 5px; }
        .test-link:hover { background: #dee2e6; }
    </style>
</head>
<body>
    <h1>🧪 Sprint 3.1.1 Test Dashboard</h1>
    
    <h2>Test Links:</h2>
    <a href="tickets.html" class="test-link">
        🎫 Test Sprint 3.1.1 Tickets Page
    </a>
    <a href="../tickets.html" class="test-link">
        🎫 Current Tickets Page (for comparison)
    </a>
    <a href="../vulnerabilities-new.html" class="test-link">
        🛡️ Current Vulnerabilities Page
    </a>
    
    <h2>Automated Tests:</h2>
    <div id="test-results"></div>
    
    <h2>Manual Test Checklist:</h2>
    <div id="manual-tests">
        <div class="test-result">
            📋 <strong>Tickets Page Load:</strong> Does the page load without errors?
        </div>
        <div class="test-result">
            🎨 <strong>Styling:</strong> Does the Bootstrap 5 styling render correctly?
        </div>
        <div class="test-result">
            🔘 <strong>Navigation:</strong> Does the navbar display properly?
        </div>
        <div class="test-result">
            ⚙️ <strong>Functionality:</strong> Can you create/edit/delete tickets?
        </div>
        <div class="test-result">
            📊 <strong>Data Persistence:</strong> Do tickets save to localStorage?
        </div>
    </div>

    <script>
        function runTests() {
            const results = document.getElementById('test-results');
            
            // Test 1: Check if we can access the tickets page
            const test1 = document.createElement('div');
            test1.className = 'test-result';
            
            try {
                // Test if localStorage is available
                localStorage.setItem('test', 'test');
                localStorage.removeItem('test');
                test1.className += ' pass';
                test1.innerHTML = '✅ <strong>LocalStorage Test:</strong> localStorage is available for ticket persistence';
            } catch (e) {
                test1.className += ' fail';
                test1.innerHTML = '❌ <strong>LocalStorage Test:</strong> localStorage is not available - ' + e.message;
            }
            results.appendChild(test1);
            
            // Test 2: Check if we can fetch the tickets page
            const test2 = document.createElement('div');
            test2.className = 'test-result';
            
            fetch('tickets.html')
                .then(response => {
                    if (response.ok) {
                        test2.className += ' pass';
                        test2.innerHTML = '✅ <strong>Page Access Test:</strong> tickets.html is accessible';
                    } else {
                        test2.className += ' fail';
                        test2.innerHTML = '❌ <strong>Page Access Test:</strong> tickets.html returned status ' + response.status;
                    }
                })
                .catch(error => {
                    test2.className += ' fail';
                    test2.innerHTML = '❌ <strong>Page Access Test:</strong> Failed to fetch tickets.html - ' + error.message;
                });
            results.appendChild(test2);
            
            // Test 3: Check if app.js is accessible
            const test3 = document.createElement('div');
            test3.className = 'test-result';
            
            fetch('app.js')
                .then(response => {
                    if (response.ok) {
                        test3.className += ' pass';
                        test3.innerHTML = '✅ <strong>App.js Test:</strong> app.js is accessible';
                    } else {
                        test3.className += ' fail';
                        test3.innerHTML = '❌ <strong>App.js Test:</strong> app.js returned status ' + response.status;
                    }
                })
                .catch(error => {
                    test3.className += ' fail';
                    test3.innerHTML = '❌ <strong>App.js Test:</strong> Failed to fetch app.js - ' + error.message;
                });
            results.appendChild(test3);
        }
        
        // Run tests when page loads
        window.onload = runTests;
    </script>
</body>
</html>
