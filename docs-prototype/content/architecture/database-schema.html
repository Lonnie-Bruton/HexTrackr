<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>HexTrackr - Documentation</title>
    <link href="https://cdn.jsdelivr.net/npm/@tabler/core@1.0.0-beta17/dist/css/tabler.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/themes/prism-tomorrow.min.css" rel="stylesheet">
    <link href="../../styles/shared/base.css" rel="stylesheet">
    <link href="../../styles/shared/header.css" rel="stylesheet">
    <link href="../css/docs-tabler.css" rel="stylesheet">
</head>
<body>
    <div class="page">
        <!-- Shared Header -->
        <div id="headerContainer"></div>
        
        <div class="page-wrapper">
            <div class="page-body">
                <div class="container-xl">
                    <div class="row g-4">
                        <div class="col-12">
                            <div class="card">
                                <div class="card-body">
                                    <h1>HexTrackr Database Schema</h1>
<p>This document outlines the schema of the SQLite database used by HexTrackr.</p>
<h2>1. <code>tickets</code></h2>
<p>Stores information about cybersecurity tickets.</p>
<table>
<thead>
<tr>
<th align="left">Column</th>
<th align="left">Type</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody><tr>
<td align="left"><code>id</code></td>
<td align="left"><code>TEXT</code></td>
<td align="left"><strong>Primary Key</strong>. A unique identifier for the ticket.</td>
</tr>
<tr>
<td align="left"><code>location</code></td>
<td align="left"><code>TEXT</code></td>
<td align="left">The location associated with the ticket.</td>
</tr>
<tr>
<td align="left"><code>devices</code></td>
<td align="left"><code>TEXT</code></td>
<td align="left">A JSON array of devices related to the ticket.</td>
</tr>
<tr>
<td align="left"><code>description</code></td>
<td align="left"><code>TEXT</code></td>
<td align="left">A description of the ticket.</td>
</tr>
<tr>
<td align="left"><code>urgency</code></td>
<td align="left"><code>TEXT</code></td>
<td align="left">The urgency level of the ticket.</td>
</tr>
<tr>
<td align="left"><code>category</code></td>
<td align="left"><code>TEXT</code></td>
<td align="left">The category of the ticket.</td>
</tr>
<tr>
<td align="left"><code>status</code></td>
<td align="left"><code>TEXT</code></td>
<td align="left">The current status of the ticket (e.g., &#39;Open&#39;). Defaults to &#39;Open&#39;.</td>
</tr>
<tr>
<td align="left"><code>assigned_to</code></td>
<td align="left"><code>TEXT</code></td>
<td align="left">The user to whom the ticket is assigned.</td>
</tr>
<tr>
<td align="left"><code>created_date</code></td>
<td align="left"><code>TEXT</code></td>
<td align="left">The date the ticket was created.</td>
</tr>
<tr>
<td align="left"><code>updated_date</code></td>
<td align="left"><code>TEXT</code></td>
<td align="left">The date the ticket was last updated.</td>
</tr>
<tr>
<td align="left"><code>notes</code></td>
<td align="left"><code>TEXT</code></td>
<td align="left">Additional notes for the ticket.</td>
</tr>
</tbody></table>
<h2>2. <code>vulnerability_imports</code></h2>
<p>Tracks metadata for each imported CSV file of vulnerabilities.</p>
<table>
<thead>
<tr>
<th align="left">Column</th>
<th align="left">Type</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody><tr>
<td align="left"><code>id</code></td>
<td align="left"><code>INTEGER</code></td>
<td align="left"><strong>Primary Key</strong>. Auto-incrementing identifier.</td>
</tr>
<tr>
<td align="left"><code>filename</code></td>
<td align="left"><code>TEXT</code></td>
<td align="left">The name of the imported CSV file.</td>
</tr>
<tr>
<td align="left"><code>import_date</code></td>
<td align="left"><code>TEXT</code></td>
<td align="left">The date of the import.</td>
</tr>
<tr>
<td align="left"><code>row_count</code></td>
<td align="left"><code>INTEGER</code></td>
<td align="left">The number of rows in the imported file.</td>
</tr>
<tr>
<td align="left"><code>vendor</code></td>
<td align="left"><code>TEXT</code></td>
<td align="left">The vendor of the vulnerability data (e.g., &#39;cisco&#39;, &#39;tenable&#39;).</td>
</tr>
<tr>
<td align="left"><code>file_size</code></td>
<td align="left"><code>INTEGER</code></td>
<td align="left">The size of the file in bytes.</td>
</tr>
<tr>
<td align="left"><code>processing_time</code></td>
<td align="left"><code>INTEGER</code></td>
<td align="left">The time taken to process the file in milliseconds.</td>
</tr>
<tr>
<td align="left"><code>raw_headers</code></td>
<td align="left"><code>TEXT</code></td>
<td align="left">A JSON array of the original column headers from the CSV.</td>
</tr>
<tr>
<td align="left"><code>created_at</code></td>
<td align="left"><code>DATETIME</code></td>
<td align="left">The timestamp of the import record creation. Defaults to <code>CURRENT_TIMESTAMP</code>.</td>
</tr>
</tbody></table>
<h2>3. <code>vulnerabilities</code></h2>
<p>Contains normalized vulnerability data from imported files.</p>
<table>
<thead>
<tr>
<th align="left">Column</th>
<th align="left">Type</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody><tr>
<td align="left"><code>id</code></td>
<td align="left"><code>INTEGER</code></td>
<td align="left"><strong>Primary Key</strong>. Auto-incrementing identifier.</td>
</tr>
<tr>
<td align="left"><code>import_id</code></td>
<td align="left"><code>INTEGER</code></td>
<td align="left"><strong>Foreign Key</strong> to <code>vulnerability_imports.id</code>.</td>
</tr>
<tr>
<td align="left"><code>hostname</code></td>
<td align="left"><code>TEXT</code></td>
<td align="left">The hostname of the affected asset.</td>
</tr>
<tr>
<td align="left"><code>ip_address</code></td>
<td align="left"><code>TEXT</code></td>
<td align="left">The IP address of the affected asset.</td>
</tr>
<tr>
<td align="left"><code>cve</code></td>
<td align="left"><code>TEXT</code></td>
<td align="left">The CVE identifier of the vulnerability.</td>
</tr>
<tr>
<td align="left"><code>severity</code></td>
<td align="left"><code>TEXT</code></td>
<td align="left">The severity level (e.g., &#39;Critical&#39;, &#39;High&#39;).</td>
</tr>
<tr>
<td align="left"><code>vpr_score</code></td>
<td align="left"><code>REAL</code></td>
<td align="left">The Vulnerability Priority Rating score.</td>
</tr>
<tr>
<td align="left"><code>cvss_score</code></td>
<td align="left"><code>REAL</code></td>
<td align="left">The Common Vulnerability Scoring System score.</td>
</tr>
<tr>
<td align="left"><code>first_seen</code></td>
<td align="left"><code>TEXT</code></td>
<td align="left">The date the vulnerability was first observed.</td>
</tr>
<tr>
<td align="left"><code>last_seen</code></td>
<td align="left"><code>TEXT</code></td>
<td align="left">The date the vulnerability was last observed.</td>
</tr>
<tr>
<td align="left"><code>plugin_id</code></td>
<td align="left"><code>TEXT</code></td>
<td align="left">The ID of the scanner plugin that detected the vulnerability.</td>
</tr>
<tr>
<td align="left"><code>plugin_name</code></td>
<td align="left"><code>TEXT</code></td>
<td align="left">The name of the scanner plugin.</td>
</tr>
<tr>
<td align="left"><code>description</code></td>
<td align="left"><code>TEXT</code></td>
<td align="left">A description of the vulnerability.</td>
</tr>
<tr>
<td align="left"><code>solution</code></td>
<td align="left"><code>TEXT</code></td>
<td align="left">The recommended solution for the vulnerability.</td>
</tr>
<tr>
<td align="left"><code>vendor_reference</code></td>
<td align="left"><code>TEXT</code></td>
<td align="left">A reference to the vendor&#39;s advisory.</td>
</tr>
<tr>
<td align="left"><code>created_at</code></td>
<td align="left"><code>DATETIME</code></td>
<td align="left">The timestamp of the record creation. Defaults to <code>CURRENT_TIMESTAMP</code>.</td>
</tr>
</tbody></table>
<h2>4. <code>ticket_vulnerabilities</code></h2>
<p>A junction table to link tickets and vulnerabilities.</p>
<table>
<thead>
<tr>
<th align="left">Column</th>
<th align="left">Type</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody><tr>
<td align="left"><code>id</code></td>
<td align="left"><code>INTEGER</code></td>
<td align="left"><strong>Primary Key</strong>. Auto-incrementing identifier.</td>
</tr>
<tr>
<td align="left"><code>ticket_id</code></td>
<td align="left"><code>TEXT</code></td>
<td align="left"><strong>Foreign Key</strong> to <code>tickets.id</code>.</td>
</tr>
<tr>
<td align="left"><code>vulnerability_id</code></td>
<td align="left"><code>INTEGER</code></td>
<td align="left"><strong>Foreign Key</strong> to <code>vulnerabilities.id</code>.</td>
</tr>
<tr>
<td align="left"><code>relationship_type</code></td>
<td align="left"><code>TEXT</code></td>
<td align="left">The nature of the link (e.g., &#39;remediation&#39;). Defaults to &#39;remediation&#39;.</td>
</tr>
<tr>
<td align="left"><code>notes</code></td>
<td align="left"><code>TEXT</code></td>
<td align="left">Notes about the relationship.</td>
</tr>
<tr>
<td align="left"><code>created_at</code></td>
<td align="left"><code>DATETIME</code></td>
<td align="left">The timestamp of the link creation. Defaults to <code>CURRENT_TIMESTAMP</code>.</td>
</tr>
</tbody></table>
<h2>5. Indexes</h2>
<ul>
<li><code>idx_vulnerabilities_hostname</code> on <code>vulnerabilities(hostname)</code></li>
<li><code>idx_vulnerabilities_severity</code> on <code>vulnerabilities(severity)</code></li>
<li><code>idx_vulnerabilities_cve</code> on <code>vulnerabilities(cve)</code></li>
<li><code>idx_vulnerabilities_import</code> on <code>vulnerabilities(import_id)</code></li>
<li><code>idx_ticket_vulns_ticket</code> on <code>ticket_vulnerabilities(ticket_id)</code></li>
</ul>

                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Shared Footer -->
    <div id="footerContainer"></div>

    <script src="https://cdn.jsdelivr.net/npm/@tabler/core@1.0.0-beta17/dist/js/tabler.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/components/prism-core.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/plugins/autoloader/prism-autoloader.min.js"></script>
    <!-- Load shared header and footer -->
    <script src="../../scripts/shared/header-loader.js"></script>
    <script src="../../scripts/shared/footer-loader.js"></script>
</body>
</html>
