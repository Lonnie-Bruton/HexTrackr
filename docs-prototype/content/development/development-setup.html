<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>HexTrackr - Documentation</title>
    <link href="https://cdn.jsdelivr.net/npm/@tabler/core@1.0.0-beta17/dist/css/tabler.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/themes/prism-tomorrow.min.css" rel="stylesheet">
    <link href="../../styles/shared/base.css" rel="stylesheet">
    <link href="../../styles/shared/header.css" rel="stylesheet">
    <link href="../css/docs-tabler.css" rel="stylesheet">
</head>
<body>
    <div class="page">
        <!-- Shared Header -->
        <div id="headerContainer"></div>
        
        <div class="page-wrapper">
            <div class="page-body">
                <div class="container-xl">
                    <div class="row g-4">
                        <div class="col-12">
                            <div class="card">
                                <div class="card-body">
                                    <h1>Development Setup Guide</h1>
<p>This guide provides instructions for setting up a local development environment for the HexTrackr application. The project is designed to run within a Docker container, which simplifies the setup process and ensures consistency.</p>
<h2>Prerequisites</h2>
<ul>
<li><strong>Docker</strong>: You must have Docker and Docker Compose installed and running. Download from the <a href="httpss://www.docker.com/products/docker-desktop">official Docker website</a>.</li>
<li><strong>Node.js and npm</strong>: While the application runs inside Docker, having Node.js and npm installed on your local machine is recommended for running utility scripts and managing dependencies. You can download them from the <a href="httpss://nodejs.org/">Node.js website</a>.</li>
<li><strong>Git</strong>: A Git client is required to clone the repository.</li>
</ul>
<h2>1. Clone the Repository</h2>
<p>First, clone the HexTrackr repository to your local machine:</p>
<pre><code class="language-bash">git clone &lt;repository-url&gt;
cd HexTrackr
</code></pre>
<h2>2. Install Dependencies</h2>
<p>Install the project&#39;s Node.js dependencies using npm. These are required for local development tools and scripts, even though the application itself will run in Docker.</p>
<pre><code class="language-bash">npm install
</code></pre>
<p>This command reads the <code>package.json</code> file and installs the necessary packages into the <code>node_modules</code> directory.</p>
<h2>3. Launch the Application with Docker</h2>
<p>The entire application stack (Node.js server) is managed by Docker Compose.</p>
<p>To build and start the services in detached mode, run:</p>
<pre><code class="language-bash">docker-compose up -d
</code></pre>
<ul>
<li>This command reads the <code>docker-compose.yml</code> file.</li>
<li>It builds the <code>hextrackr</code> Docker image using <code>Dockerfile.node</code>.</li>
<li>It starts the container, mounts the necessary volumes for the database and source code, and maps port <code>8080</code>.</li>
</ul>
<h2>4. Access the Application</h2>
<p>Once the container is running, you can access the application in your browser:</p>
<ul>
<li><strong>Tickets Page</strong>: <code>http://localhost:8080/tickets.html</code></li>
<li><strong>Vulnerabilities Page</strong>: <code>http://localhost:8080/vulnerabilities.html</code></li>
</ul>
<h2>5. Database Initialization</h2>
<p>The database is automatically initialized when the server starts for the first time.</p>
<ul>
<li>The <code>server.js</code> file checks for the existence of <code>data/hextrackr.db</code>.</li>
<li>If the database file does not exist, it runs the <code>scripts/init-database.js</code> script to create the database and its schema.</li>
<li>The <code>data</code> directory is mounted as a volume in Docker, so the database will persist across container restarts.</li>
</ul>
<p>To manually re-initialize the database (this will delete all existing data), you can run:</p>
<pre><code class="language-bash">npm run init-db
</code></pre>
<h2>6. Development Workflow</h2>
<ul>
<li><strong>Live Reloading</strong>: The project is configured for live code updates. The application source code is mounted as a volume into the Docker container.</li>
<li><strong>Backend Changes</strong>: For changes to the backend (<code>server.js</code> or other Node.js files), the <code>nodemon</code> development dependency is configured. To run the server with <code>nodemon</code> for automatic restarts on file changes, you can modify the <code>docker-compose.yml</code> to use <code>npm run dev</code> or run it locally if you have a local Node.js environment set up.</li>
<li><strong>Frontend Changes</strong>: Changes to HTML, CSS, or client-side JavaScript files (<code>scripts/pages/*.js</code>, <code>scripts/shared/*.js</code>) will be reflected immediately upon refreshing your browser, as these files are served statically by Express.</li>
</ul>
<h2>7. Available npm Scripts</h2>
<p>The <code>package.json</code> file includes several scripts to assist with development:</p>
<ul>
<li><strong><code>npm start</code></strong>: Starts the Node.js server. This is the default command used by the Docker container.</li>
<li><strong><code>npm run dev</code></strong>: Starts the server using <code>nodemon</code>, which automatically restarts the server when file changes are detected in the backend.</li>
<li><strong><code>npm run init-db</code></strong>: Manually runs the database initialization script.</li>
<li><strong><code>npm run eslint</code></strong>: Runs ESLint to check for code quality issues in the specified JavaScript files.</li>
</ul>
<p>To run a script, use the command <code>npm run &lt;script-name&gt;</code>.</p>

                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Shared Footer -->
    <div id="footerContainer"></div>

    <script src="https://cdn.jsdelivr.net/npm/@tabler/core@1.0.0-beta17/dist/js/tabler.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/components/prism-core.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/plugins/autoloader/prism-autoloader.min.js"></script>
    <!-- Load shared header and footer -->
    <script src="../../scripts/shared/header-loader.js"></script>
    <script src="../../scripts/shared/footer-loader.js"></script>
</body>
</html>
