{
  "metadata": {
    "version": "1.0",
    "created": "2025-08-16",
    "purpose": "Structured MCP memory system for StackTrackr project coordination and context management",
    "description": "Centralized entity and relationship management for cross-agent coordination and persistent context",
    "migrated_from": "agents/memory file (JSON lines format)",
    "mcp_fallback": "Complete project memory available when MCP is unavailable for autonomous operation",
    "last_updated": "2025-08-16T23:35:55Z",
    "zip_prep_sync": true,
    "gpt_export_prep": true,
    "goomba_export_prep": true
  },
  "entities": {
    "projects": {
      "StackTrackr": {
        "entity_id": "stacktrackr_app",
        "type": "application_project",
        "name": "StackTrackr",
        "description": "Precious metals inventory management web application",
        "status": "active_development",
        "current_version": "v3.04.87",
        "architecture": "client_side_spa_with_localstorage",
        "primary_workspace": "/Volumes/DATA/GitHub/rEngine",
        "key_technologies": [
          "javascript",
          "html5",
          "css3",
          "chart_js",
          "localstorage"
        ],
        "context_dependencies": [
          "rEngine",
          "MCP_Memory_System"
        ],
        "recent_activity": "table_redesign_and_performance_optimization",
        "critical_issues": [
          "filter_chip_color_consistency",
          "dropdown_inverse_filtering"
        ],
        "last_updated": "2025-08-16"
      },
      "rEngine": {
        "entity_id": "rengine_platform",
        "type": "development_platform",
        "name": "rEngine",
        "description": "Agentic operating system for developing AI-powered tools and plugins",
        "status": "foundational_complete",
        "architecture": "mcp_memory_agent_coordination",
        "primary_workspace": "/Volumes/DATA/GitHub/rEngine",
        "role": "development_framework_and_infrastructure",
        "serves": [
          "StackTrackr",
          "VulnTrackr",
          "Network_Inventory_Tool"
        ],
        "last_updated": "2025-08-15"
      },
      "VulnTrackr": {
        "entity_id": "vulntrackr_app",
        "type": "application_project",
        "name": "VulnTrackr",
        "description": "Vulnerability tracking application with superior UI design",
        "status": "planning_phase",
        "design_influence": "source_of_design_patterns_for_stacktrackr",
        "key_features": [
          "stats_grid",
          "modern_card_design",
          "clean_table_layouts"
        ],
        "last_updated": "2025-08-15"
      }
    },
    "system_components": {
      "MCP_Memory_System": {
        "entity_id": "mcp_memory",
        "type": "core_component",
        "name": "Model Context Protocol Memory System",
        "description": "Persistent memory across agent sessions enabling coordination",
        "implementation": "json_lines_format_with_entities_and_relationships",
        "backup_location": "/scripts/directory",
        "integration_points": [
          "agent_coordination",
          "cross_project_sync"
        ],
        "current_state": "migrated_to_structured_json_format"
      },
      "Agent_Coordination": {
        "entity_id": "agent_coord",
        "type": "core_component",
        "name": "Multi-Agent Coordination System",
        "description": "Unified workflow protocols for agent collaboration",
        "workflow_files": [
          "agents/unified-workflow.ai",
          "agents/QUICK-AGENT-PROTOCOLS.ai"
        ],
        "coordination_methods": [
          "handoff_procedures",
          "context_sharing",
          "task_delegation"
        ],
        "specialization_support": "gpt_claude_gemini_role_assignment"
      },
      "Universal_Agent_Onboarding": {
        "entity_id": "agent_onboard",
        "type": "core_component",
        "name": "Zero Context Loss Agent Onboarding",
        "description": "Single-command agent onboarding ensuring instant productivity",
        "onboarding_script": "/scripts/onboard_agent.sh",
        "copy_paste_prompt": "/AGENT-ONBOARDING.md",
        "capabilities": [
          "automatic_project_detection",
          "context_loading",
          "cross_project_coordination"
        ]
      }
    },
    "development_sessions": {
      "StackTrackr_Session_Aug15_2025": {
        "entity_id": "session_aug15_table_redesign",
        "type": "development_session",
        "name": "StackTrackr Table Redesign and Performance",
        "date": "2025-08-15",
        "focus": "table_responsive_design_and_bulk_edit_features",
        "achievements": [
          "responsive_table_css_implementation",
          "price_toggle_functionality",
          "shift_click_bulk_edit_feature",
          "multi_row_edit_fix",
          "table_header_styling_consistency"
        ],
        "git_checkpoints": [
          "cfd2b7d",
          "d61be39",
          "e047e5a"
        ],
        "remaining_issues": [
          "filter_chip_color_consistency",
          "dropdown_inverse_filtering"
        ]
      },
      "Filter_Chip_Investigation_Aug16_2025": {
        "entity_id": "session_aug16_filter_investigation",
        "type": "bug_investigation_session",
        "name": "Filter Chip Color Bug Investigation",
        "date": "2025-08-16",
        "focus": "filter_chip_color_consistency_and_dropdown_behavior",
        "investigation_scope": [
          "color_generation_functions",
          "filter_rendering_logic",
          "state_management_analysis",
          "event_handling_review"
        ],
        "critical_discoveries": [
          "collectable_column_background_inheritance_rule"
        ],
        "status": "investigation_complete_solution_pending"
      },
      "GPT_Serverless_Collaboration_Aug16_2025": {
        "entity_id": "session_aug16_gpt_serverless",
        "type": "llm_collaboration_session",
        "name": "GPT Serverless Architecture Collaboration",
        "date": "2025-08-16",
        "collaboration_type": "chatgpt_export_and_response",
        "focus": "serverless_infrastructure_planning",
        "export_details": {
          "export_file": "stacktrackr-full-2025-08-16T20-05-42Z-74138ea.zip",
          "export_size": "7.2MB",
          "export_type": "chatgpt_optimized_bundle"
        },
        "gpt_response": {
          "response_file": "stackrtrackr-serverless-plan-20250817-011007.zip",
          "architecture_proposed": "aws_lambda_api_gateway",
          "key_features": [
            "server_optional_design",
            "multi_provider_spot_price_normalization",
            "secure_api_key_management_via_secrets_manager",
            "scheduled_price_fetching_with_cloudwatch",
            "rate_limiting_and_caching_strategy",
            "comprehensive_monitoring_and_alerting"
          ]
        },
        "deliverables": [
          "complete_serverless_plan_with_implementation_phases",
          "json_schema_for_normalized_price_data", 
          "openapi_specification_for_api_endpoints",
          "configuration_templates_and_examples",
          "two_phase_rollout_strategy_with_checklist"
        ],
        "validation": "memory_change_bundle_system_confirmed_working",
        "status": "collaboration_successful_plan_received"
      }
    },
    "bug_tracking": {
      "BUG_007_Filter_Chip_Color": {
        "entity_id": "bug_007",
        "type": "active_bug",
        "name": "Filter Chip Color Consistency Bug",
        "priority": "medium",
        "status": "under_investigation",
        "description": "Filter chips lose color consistency when filters change",
        "evidence": "screenshot_provided_by_user",
        "investigation_findings": "hash_based_color_generation_has_edge_cases",
        "related_functions": [
          "getColor",
          "getPurchaseLocationColor",
          "renderActiveFilters"
        ],
        "documented_in": "docs/roadmap.md"
      },
      "BUG_008_Dropdown_Inverse": {
        "entity_id": "bug_008",
        "type": "active_bug",
        "name": "Filter Chips Dropdown Inverse Filtering Bug",
        "priority": "high",
        "status": "reported",
        "description": "Filter chips dropdown filtering inversely to expected behavior",
        "impact": "affects_core_filtering_functionality",
        "investigation_needed": "minCount_threshold_logic_and_event_handling"
      }
    },
    "critical_fixes": {
      "Table_Header_Styling_Fix": {
        "entity_id": "critical_header_fix",
        "type": "critical_css_fix",
        "name": "StackTrackr Table Header Styling Consistency",
        "status": "permanently_applied",
        "warning": "DO_NOT_MODIFY_OR_BREAK",
        "description": "Fixed table header background consistency across all columns",
        "root_causes": [
          "price_column_cell_background_bleeding",
          "action_column_wrong_background_colors",
          "annoying_th_hover_animation_effect"
        ],
        "permanent_fixes": [
          "removed_cell_background_colors_from_price_columns",
          "added_important_rules_for_action_column_headers",
          "removed_th_hover_rule_completely"
        ],
        "css_location": "/css/styles.css",
        "validation_method": "browser_debugging_with_playwright"
      },
      "Collectable_Column_Background": {
        "entity_id": "collectable_bg_fix",
        "type": "critical_css_rule",
        "name": "Collectable Column Background Inheritance",
        "status": "working_correctly",
        "critical_rule": "background: inherit !important",
        "incorrect_rule": "background: transparent",
        "discovery_date": "2025-08-16",
        "warning": "Previous_documentation_was_backwards",
        "truth": "inherit_keeps_zebra_striping_transparent_breaks_it"
      }
    },
    "feature_implementations": {
      "Shift_Click_Bulk_Edit": {
        "entity_id": "bulk_edit_feature",
        "type": "feature_implementation",
        "name": "Shift+Click Bulk Edit Feature",
        "status": "completed",
        "description": "Shift+Click on Edit header toggles all items edit mode",
        "implementation_details": {
          "function": "toggleAllItemsEdit",
          "location": "js/inventory.js line 2680",
          "event_handler": "js/init.js with event.shiftKey detection",
          "tooltip": "Click to toggle edit mode \u2022 Shift+Click to toggle all items edit"
        },
        "testing": "validated_through_browser_automation"
      },
      "Bulk_Edit_Control_Panel": {
        "entity_id": "bulk_control_panel",
        "type": "feature_implementation",
        "name": "Bulk Edit Control Panel",
        "status": "completed",
        "description": "Modern control panel that appears during bulk editing",
        "ui_elements": [
          "pencil_button_toggle_all",
          "green_check_save_all",
          "red_x_cancel_all"
        ],
        "styling": "consistent_colors_with_hover_effects",
        "functions": [
          "toggleAllItemsEdit",
          "saveAllEdits",
          "cancelAllEdits",
          "updateBulkEditPanel"
        ]
      }
    },
    "design_initiatives": {
      "Multi_Tool_Design_Language": {
        "entity_id": "design_lang_initiative",
        "type": "design_system",
        "name": "Unified Design Language Across Tools",
        "status": "initiated",
        "scope": [
          "StackTrackr",
          "VulnTrackr",
          "Network_Inventory_Tool"
        ],
        "design_source": "VulnTrackr_stats_grid_and_Network_Inventory_table_design",
        "planned_improvements": [
          "redesign_totals_cards_to_match_vulntrackr",
          "clean_up_spot_price_section_remove_dropdown_buttons",
          "extract_design_patterns_for_reuse"
        ],
        "priority": "medium",
        "effort_estimate": "6_hours_total"
      }
    },
    "user_patterns": {
      "User_Workflow_Preferences": {
        "entity_id": "user_prefs",
        "type": "user_behavior",
        "name": "User Session Patterns",
        "checkpoint_behavior": "says_checkpoint_to_mean_git_commit_before_major_changes",
        "feedback_style": "provides_visual_feedback_via_screenshots_for_bug_reporting",
        "approach": "prefers_methodical_approach_with_version_control_checkpoints",
        "design_vision": "wants_design_consistency_across_all_tools",
        "delegation_style": "delegates_task_organization_and_prioritization_to_ai"
      }
    }
  },
  "relationships": {
    "project_dependencies": [
      {
        "from": "StackTrackr",
        "to": "rEngine",
        "type": "hosted_by",
        "description": "StackTrackr is part of rEngine application ecosystem"
      },
      {
        "from": "StackTrackr",
        "to": "MCP_Memory_System",
        "type": "uses",
        "description": "StackTrackr agents use MCP memory for coordination"
      },
      {
        "from": "VulnTrackr",
        "to": "Multi_Tool_Design_Language",
        "type": "design_source_for",
        "description": "VulnTrackr provides design patterns for StackTrackr"
      }
    ],
    "bug_relationships": [
      {
        "from": "BUG_007_Filter_Chip_Color",
        "to": "BUG_008_Dropdown_Inverse",
        "type": "potentially_related",
        "description": "Both bugs involve filter chip behavior and may share root causes"
      },
      {
        "from": "Filter_Chip_Investigation_Aug16_2025",
        "to": "BUG_007_Filter_Chip_Color",
        "type": "investigates",
        "description": "Investigation session focused on this bug"
      }
    ],
    "implementation_dependencies": [
      {
        "from": "Shift_Click_Bulk_Edit",
        "to": "Bulk_Edit_Control_Panel",
        "type": "enhanced_by",
        "description": "Control panel provides UI for bulk edit functionality"
      },
      {
        "from": "Table_Header_Styling_Fix",
        "to": "Collectable_Column_Background",
        "type": "depends_on",
        "description": "Header consistency requires proper background inheritance"
      }
    ],
    "session_relationships": [
      {
        "from": "StackTrackr_Session_Aug15_2025",
        "to": "Multi_Tool_Design_Language",
        "type": "initiated",
        "description": "Session led to design language initiative"
      },
      {
        "from": "Filter_Chip_Investigation_Aug16_2025",
        "to": "Collectable_Column_Background",
        "type": "discovered",
        "description": "Investigation revealed critical CSS truth"
      }
    ]
  },
  "context_categories": {
    "active_development": {
      "description": "Current ongoing development work",
      "entities": [
        "StackTrackr_Session_Aug15_2025",
        "BUG_007_Filter_Chip_Color",
        "BUG_008_Dropdown_Inverse"
      ],
      "priority": "high",
      "monitoring_frequency": "real_time"
    },
    "critical_infrastructure": {
      "description": "System components that must not be broken",
      "entities": [
        "Table_Header_Styling_Fix",
        "Collectable_Column_Background",
        "MCP_Memory_System"
      ],
      "priority": "critical",
      "modification_warning": "extensive_testing_required_before_changes"
    },
    "design_evolution": {
      "description": "UI/UX improvements and design system development",
      "entities": [
        "Multi_Tool_Design_Language",
        "VulnTrackr",
        "Bulk_Edit_Control_Panel"
      ],
      "priority": "medium",
      "timeline": "ongoing_incremental_improvements"
    },
    "user_experience": {
      "description": "User behavior patterns and preferences",
      "entities": [
        "User_Workflow_Preferences",
        "Shift_Click_Bulk_Edit"
      ],
      "priority": "medium",
      "learning_focus": "continuous_adaptation_to_user_needs"
    }
  },
  "cross_project_links": {
    "rEngine_synchronization": {
      "description": "Changes that should be propagated to rEngine",
      "triggers": [
        "bug_fixes",
        "framework_improvements",
        "development_patterns"
      ],
      "sync_location": "/Volumes/DATA/GitHub/rEngine",
      "documentation_required": "lessons_learned_and_technical_changes"
    },
    "design_pattern_sharing": {
      "description": "Design patterns shared across projects",
      "source_projects": [
        "VulnTrackr",
        "Network_Inventory_Tool"
      ],
      "target_projects": [
        "StackTrackr"
      ],
      "extraction_focus": [
        "table_designs",
        "card_layouts",
        "color_schemes"
      ]
    }
  },
  "memory_health": {
    "coverage_metrics": {
      "development_sessions": "90%",
      "active_bugs": "100%",
      "critical_fixes": "100%",
      "user_patterns": "85%",
      "cross_project_context": "80%"
    },
    "gap_analysis": {
      "missing_context": [
        "some_historical_design_decisions",
        "performance_benchmarking_data"
      ],
      "improvement_opportunities": [
        "automated_entity_extraction",
        "relationship_inference"
      ],
      "maintenance_schedule": "weekly_gap_analysis_monthly_comprehensive_review"
    }
  },
  "automation_capabilities": {
    "entity_extraction": {
      "description": "Automatic identification of new entities from development sessions",
      "triggers": [
        "git_commits",
        "bug_reports",
        "feature_implementations"
      ],
      "confidence_threshold": "high_confidence_for_auto_addition"
    },
    "relationship_inference": {
      "description": "Automatic detection of relationships between entities",
      "methods": [
        "code_dependency_analysis",
        "file_modification_patterns",
        "issue_correlation"
      ],
      "validation_required": "human_review_for_complex_relationships"
    },
    "context_aging": {
      "description": "Automatic archival of outdated context",
      "retention_policy": "active_for_30_days_archived_after_90_days",
      "archival_triggers": [
        "completed_features",
        "resolved_bugs",
        "deprecated_systems"
      ]
    }
  },
  "fallback_protocols": {
    "no_mcp_operation": {
      "description": "Complete project context available in JSON format",
      "context_loading": "agents_read_memory_json_directly",
      "coordination": "manual_entity_updates_through_json_editing",
      "relationship_tracking": "maintained_through_structured_json_format"
    },
    "context_recovery": {
      "description": "Recovery procedures for lost or corrupted context",
      "git_history_mining": "extract_context_from_commit_messages_and_file_changes",
      "documentation_reconstruction": "rebuild_from_roadmap_and_issue_tracking",
      "agent_interview": "systematic_context_gathering_from_available_agents"
    }
  },
  "schema": {
    "entity": {
      "entity_id": "string - Unique identifier for entity",
      "type": "string - Category of entity (project, component, session, bug, etc.)",
      "name": "string - Human readable name",
      "description": "string - Detailed description of entity",
      "status": "string - Current status (active, completed, archived, etc.)",
      "context_data": "object - Entity-specific information",
      "relationships": "array - References to related entities",
      "last_updated": "string - ISO date of last modification"
    },
    "relationship": {
      "from": "string - Source entity ID",
      "to": "string - Target entity ID",
      "type": "string - Type of relationship",
      "description": "string - Description of relationship",
      "strength": "string - Strength of relationship (weak, medium, strong)",
      "bidirectional": "boolean - Whether relationship works both ways"
    }
  },
  "instructions": {
    "for_agents": "Use this structured memory as the primary source of project context. MCP provides quick access, but complete information is stored here.",
    "entity_management": "Add new entities for significant developments, update existing entities with new information, archive completed items.",
    "relationship_tracking": "Maintain relationships between entities to preserve context connections and enable impact analysis.",
    "fallback_operation": "When MCP unavailable, operate entirely from this JSON structure with manual updates as needed."
  }
}