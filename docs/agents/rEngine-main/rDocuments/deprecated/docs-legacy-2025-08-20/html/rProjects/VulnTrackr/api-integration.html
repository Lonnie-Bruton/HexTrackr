<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tenable API Integration for VulnTrackr - StackTrackr Documentation</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', sans-serif;
            line-height: 1.6;
            color: #333;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            border-radius: 15px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
            overflow: hidden;
        }

        .header {
            background: linear-gradient(135deg, #495057 0%, #6c757d 100%);
            color: white;
            padding: 30px;
            text-align: center;
        }

        .header-icon {
            font-size: 3em;
            margin-bottom: 15px;
            opacity: 0.9;
        }

        .header h1 {
            font-size: 2.2em;
            margin-bottom: 10px;
            font-weight: 300;
        }

        .header .subtitle {
            font-size: 1.1em;
            opacity: 0.8;
            margin-bottom: 5px;
        }

        .header .meta {
            font-size: 0.9em;
            opacity: 0.7;
            display: flex;
            justify-content: center;
            gap: 20px;
            flex-wrap: wrap;
        }

        .nav-bar {
            background: #f8f9fa;
            padding: 15px 30px;
            border-bottom: 1px solid #e1e4e8;
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
            gap: 15px;
        }

        .nav-links {
            display: flex;
            gap: 15px;
            flex-wrap: wrap;
        }

        .nav-link {
            padding: 8px 16px;
            background: #007acc;
            color: white;
            text-decoration: none;
            border-radius: 6px;
            font-size: 0.9em;
            font-weight: 500;
            transition: all 0.3s ease;
        }

        .nav-link:hover {
            background: #0056b3;
            transform: translateY(-2px);
        }

        .content {
            padding: 40px;
            max-width: none;
        }

        .content h1, .content h2, .content h3, .content h4, .content h5, .content h6 {
            color: #2c3e50;
            margin-top: 30px;
            margin-bottom: 15px;
            font-weight: 600;
        }

        .content h1 { font-size: 2.2em; border-bottom: 3px solid #007acc; padding-bottom: 10px; }
        .content h2 { font-size: 1.8em; color: #007acc; }
        .content h3 { font-size: 1.4em; color: #495057; }
        .content h4 { font-size: 1.2em; color: #6c757d; }

        .content p {
            margin-bottom: 16px;
            line-height: 1.7;
            color: #444;
        }

        .content ul, .content ol {
            margin-bottom: 16px;
            padding-left: 25px;
        }

        .content li {
            margin-bottom: 8px;
            line-height: 1.6;
        }

        .content blockquote {
            border-left: 4px solid #007acc;
            background: #f8f9fa;
            margin: 20px 0;
            padding: 15px 20px;
            border-radius: 0 6px 6px 0;
        }

        .content code {
            background: #f8f9fa;
            padding: 2px 6px;
            border-radius: 4px;
            font-family: 'Monaco', 'Menlo', monospace;
            font-size: 0.9em;
            color: #e83e8c;
        }

        .content pre {
            background: #2d3748;
            color: #e2e8f0;
            padding: 20px;
            border-radius: 8px;
            overflow-x: auto;
            margin: 20px 0;
            font-family: 'Monaco', 'Menlo', monospace;
            font-size: 0.9em;
            line-height: 1.5;
        }

        .content pre code {
            background: none;
            color: inherit;
            padding: 0;
        }

        .content table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
            background: white;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }

        .content th, .content td {
            padding: 12px 15px;
            text-align: left;
            border-bottom: 1px solid #e1e4e8;
        }

        .content th {
            background: #f8f9fa;
            font-weight: 600;
            color: #2c3e50;
        }

        .content tr:hover {
            background: #f8f9fa;
        }

        .content a {
            color: #007acc;
            text-decoration: none;
            font-weight: 500;
        }

        .content a:hover {
            color: #0056b3;
            text-decoration: underline;
        }

        .footer {
            background: #f8f9fa;
            padding: 20px 30px;
            border-top: 1px solid #e1e4e8;
            text-align: center;
            color: #6c757d;
            font-size: 0.9em;
        }

        .doc-meta {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 8px;
            margin-bottom: 30px;
            border-left: 4px solid #007acc;
        }

        .doc-meta h3 {
            color: #007acc;
            margin-bottom: 10px;
            font-size: 1.1em;
        }

        .meta-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin-top: 15px;
        }

        .meta-item {
            background: white;
            padding: 10px 15px;
            border-radius: 6px;
            border: 1px solid #e1e4e8;
        }

        .meta-label {
            font-weight: 600;
            color: #495057;
            font-size: 0.9em;
        }

        .meta-value {
            color: #6c757d;
            font-size: 0.9em;
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            body { padding: 10px; }
            .content { padding: 20px; }
            .header { padding: 20px; }
            .nav-bar { padding: 15px 20px; }
            .nav-links { justify-content: center; }
            .header .meta { flex-direction: column; gap: 10px; }
        }

        /* Category-specific colors */
        .color-vision { --primary: #9c27b0; --secondary: #7b1fa2; }
        .color-roadmap { --primary: #007acc; --secondary: #0056b3; }
        .color-engine { --primary: #2c3e50; --secondary: #34495e; }
        .color-agent { --primary: #28a745; --secondary: #198754; }
        .color-brain { --primary: #6f42c1; --secondary: #495057; }
        .color-docker { --primary: #0db7ed; --secondary: #086dd7; }
        .color-mobile { --primary: #fd7e14; --secondary: #dc3545; }
        .color-protocol { --primary: #20c997; --secondary: #198754; }
        .color-scribe { --primary: #17a2b8; --secondary: #138496; }
        .color-groq { --primary: #ffc107; --secondary: #e0a800; }
        .color-task { --primary: #dc3545; --secondary: #c82333; }
        .color-cleanup { --primary: #6c757d; --secondary: #5a6268; }
        .color-quickstart { --primary: #28a745; --secondary: #198754; }
        .color-patch { --primary: #ff6b35; --secondary: #e55a32; }
        .color-rengine { --primary: #8b5cf6; --secondary: #7c3aed; }
        .color-default { --primary: #495057; --secondary: #6c757d; }
    </style>
</head>
<body class="color-default">
    <div class="container">
        <header class="header">
            <div class="header-icon">üìÑ</div>
            <h1>Tenable API Integration for VulnTrackr</h1>
            <div class="subtitle">Documentation</div>
            <div class="meta">
                <span>üìÅ api-integration.md</span>
                <span>üìÖ 2025-08-20</span>
                <span>üìä 6KB</span>
            </div>
        </header>

        <nav class="nav-bar">
            <div class="nav-links">
                <a href="../index.html" class="nav-link">üè† Documentation Home</a>
                <a href="../developmentstatus.html" class="nav-link">üìä Development Status</a>
                <a href="../rProjects/VulnTrackr/api-integration.md" class="nav-link">üìù View Source MD</a>
                <a href="../json/api-integration.json" class="nav-link">üîß JSON Data</a>
            </div>
        </nav>

        <main class="content">
            <h1 id="tenable-api-integration-for-vulntrackr">Tenable API Integration for VulnTrackr</h1>
<h2 id="purpose--overview">Purpose &amp; Overview</h2>
<p>The <code>api-integration.js</code> script adds a Tenable API integration feature to the existing VulnTrackr application. This integration allows users to connect directly to their Tenable.io environment and fetch real-time vulnerability data, which can then be processed and displayed within the VulnTrackr interface.</p>
<h2 id="technical-architecture">Technical Architecture</h2>
<p>The script defines a <code>TenableAPIIntegration</code> class, which is responsible for managing the API integration functionality. The key components and data flow are as follows:</p>
<ol>
<li><p><strong>UI Integration</strong>: The class creates an API configuration panel and inserts it into the existing VulnTrackr UI. This panel allows users to enable the API integration, enter their Tenable API credentials, and configure various filtering options.</p>
</li>
<li><p><strong>Event Handling</strong>: The class binds event listeners to the various UI controls, such as the &quot;Enable API Integration&quot; toggle, &quot;Test Connection&quot; button, &quot;Fetch Vulnerabilities&quot; button, and &quot;Save Credentials&quot; button.</p>
</li>
<li><p><strong>Credential Management</strong>: The class handles loading, saving, and loading of Tenable API credentials from the browser&#39;s local storage.</p>
</li>
<li><p><strong>API Communication</strong>: The class provides methods to test the API connection, fetch vulnerability data from the Tenable API, and poll for the completion of the export job.</p>
</li>
<li><p><strong>Data Processing</strong>: Once the vulnerability data is fetched, the class processes the results and integrates them with the existing VulnTrackr functionality, such as updating the current vulnerability counts and adding the data to the history.</p>
</li>
</ol>
<h2 id="dependencies">Dependencies</h2>
<p>The script does not have any external dependencies. It relies solely on the browser&#39;s built-in <code>fetch</code> API for making HTTP requests to the Tenable API.</p>
<h2 id="key-functionsclasses">Key Functions/Classes</h2>
<h3 id="tenableapiintegration-class"><code>TenableAPIIntegration</code> Class</h3>
<ul>
<li><code>constructor()</code>: Initializes the class and loads the saved API credentials from local storage.</li>
<li><code>init()</code>: Sets up the API integration UI and binds event listeners.</li>
<li><code>createAPIPanel()</code>: Creates the API configuration panel and inserts it into the VulnTrackr UI.</li>
<li><code>bindEventListeners()</code>: Binds event listeners to the various UI controls.</li>
<li><code>toggleAPIControls(show)</code>: Shows or hides the API controls based on the <code>show</code> parameter.</li>
<li><code>loadCredentials()</code>: Loads the saved API credentials from local storage.</li>
<li><code>saveCredentials()</code>: Saves the entered API credentials to local storage.</li>
<li><code>loadSavedCredentials()</code>: Loads the saved API credentials into the form.</li>
<li><code>testConnection()</code>: Tests the API connection using the entered credentials.</li>
<li><code>fetchVulnerabilities()</code>: Initiates the process of fetching vulnerability data from the Tenable API.</li>
<li><code>pollAndDownload(exportUuid, accessKey, secretKey)</code>: Polls the status of the export job and downloads the vulnerability data when it&#39;s ready.</li>
<li><code>downloadAndProcess(exportUuid, chunksAvailable, accessKey, secretKey)</code>: Downloads and processes the vulnerability data in chunks.</li>
<li><code>processAndIntegrate(vulnerabilities)</code>: Processes the vulnerability data and integrates it with the existing VulnTrackr functionality.</li>
<li><code>showStatus(message, type)</code>: Displays a status message in the API panel.</li>
<li><code>showProgress(percent)</code>: Shows the progress bar in the API panel.</li>
<li><code>hideProgress()</code>: Hides the progress bar in the API panel.</li>
</ul>
<h2 id="usage-examples">Usage Examples</h2>
<ol>
<li><p><strong>Enabling the API Integration</strong>:</p>
<ul>
<li>Click the &quot;Enable Tenable API Integration&quot; checkbox in the API panel.</li>
<li>Enter the Tenable Access Key and Secret Key.</li>
<li>Click the &quot;Save Credentials&quot; button to store the API credentials.</li>
</ul>
</li>
<li><p><strong>Fetching Vulnerability Data</strong>:</p>
<ul>
<li>Ensure the API integration is enabled and the credentials are saved.</li>
<li>Adjust the &quot;Days Back&quot; filter to specify the desired date range.</li>
<li>Optionally, enter Asset Tags or a Scanner name to filter the results.</li>
<li>Click the &quot;Fetch Vulnerabilities&quot; button to initiate the data export.</li>
<li>Monitor the progress bar and status messages in the API panel.</li>
</ul>
</li>
<li><p><strong>Testing the API Connection</strong>:</p>
<ul>
<li>Enter the Tenable Access Key and Secret Key.</li>
<li>Click the &quot;Test Connection&quot; button to verify the API credentials.</li>
</ul>
</li>
</ol>
<h2 id="configuration">Configuration</h2>
<p>The script does not require any external configuration. All necessary configuration options are provided within the API panel, such as the &quot;Days Back&quot; filter, Asset Tags, and Scanner name.</p>
<h2 id="error-handling">Error Handling</h2>
<p>The script handles various error scenarios and displays appropriate status messages in the API panel, including:</p>
<ul>
<li>Missing API credentials</li>
<li>Failed API connection (invalid credentials or other errors)</li>
<li>Errors during the vulnerability data export process</li>
<li>CORS-related issues (requiring a proxy server for production use)</li>
</ul>
<h2 id="integration">Integration</h2>
<p>The Tenable API integration is designed to seamlessly integrate with the existing VulnTrackr application. The processed vulnerability data is passed to the following functions, which are assumed to be part of the VulnTrackr codebase:</p>
<ul>
<li><code>updateCurrentData(counts)</code>: Updates the current vulnerability counts based on the fetched data.</li>
<li><code>addToHistory(data)</code>: Adds the fetched vulnerability data to the VulnTrackr history.</li>
</ul>
<h2 id="development-notes">Development Notes</h2>
<ol>
<li><p><strong>CORS Considerations</strong>: The script uses the browser&#39;s built-in <code>fetch</code> API to communicate with the Tenable API. This may be subject to CORS (Cross-Origin Resource Sharing) restrictions, depending on the deployment environment. For production use, a proxy server or other CORS-handling mechanism may be required.</p>
</li>
<li><p><strong>Asynchronous Polling</strong>: The script uses asynchronous polling to wait for the completion of the vulnerability data export job. This approach is necessary because the Tenable API exports the data in chunks, and the script needs to wait for all chunks to be available before processing the full dataset.</p>
</li>
<li><p><strong>Vulnerability Data Processing</strong>: The script assumes the existence of certain VulnTrackr functions (<code>updateCurrentData</code> and <code>addToHistory</code>) to integrate the fetched vulnerability data. If these functions are not available or have a different implementation, the script may need to be modified accordingly.</p>
</li>
<li><p><strong>Extensibility</strong>: The script is designed to be modular and extensible. If additional features or customizations are required in the future, the <code>TenableAPIIntegration</code> class can be extended or modified without impacting the core VulnTrackr functionality.</p>
</li>
</ol>

        </main>

        <footer class="footer">
            <p>Generated from <strong>api-integration.md</strong> ‚Ä¢ StackTrackr Documentation System ‚Ä¢ Last updated: 2025-08-20</p>
        </footer>
    </div>
</body>
</html>