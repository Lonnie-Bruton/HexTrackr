<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>update-agent-requirements.js Documentation - StackTrackr Documentation</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', sans-serif;
            line-height: 1.6;
            color: #333;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            border-radius: 15px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
            overflow: hidden;
        }

        .header {
            background: linear-gradient(135deg, #28a745 0%, #198754 100%);
            color: white;
            padding: 30px;
            text-align: center;
        }

        .header-icon {
            font-size: 3em;
            margin-bottom: 15px;
            opacity: 0.9;
        }

        .header h1 {
            font-size: 2.2em;
            margin-bottom: 10px;
            font-weight: 300;
        }

        .header .subtitle {
            font-size: 1.1em;
            opacity: 0.8;
            margin-bottom: 5px;
        }

        .header .meta {
            font-size: 0.9em;
            opacity: 0.7;
            display: flex;
            justify-content: center;
            gap: 20px;
            flex-wrap: wrap;
        }

        .nav-bar {
            background: #f8f9fa;
            padding: 15px 30px;
            border-bottom: 1px solid #e1e4e8;
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
            gap: 15px;
        }

        .nav-links {
            display: flex;
            gap: 15px;
            flex-wrap: wrap;
        }

        .nav-link {
            padding: 8px 16px;
            background: #007acc;
            color: white;
            text-decoration: none;
            border-radius: 6px;
            font-size: 0.9em;
            font-weight: 500;
            transition: all 0.3s ease;
        }

        .nav-link:hover {
            background: #0056b3;
            transform: translateY(-2px);
        }

        .content {
            padding: 40px;
            max-width: none;
        }

        .content h1, .content h2, .content h3, .content h4, .content h5, .content h6 {
            color: #2c3e50;
            margin-top: 30px;
            margin-bottom: 15px;
            font-weight: 600;
        }

        .content h1 { font-size: 2.2em; border-bottom: 3px solid #007acc; padding-bottom: 10px; }
        .content h2 { font-size: 1.8em; color: #007acc; }
        .content h3 { font-size: 1.4em; color: #495057; }
        .content h4 { font-size: 1.2em; color: #6c757d; }

        .content p {
            margin-bottom: 16px;
            line-height: 1.7;
            color: #444;
        }

        .content ul, .content ol {
            margin-bottom: 16px;
            padding-left: 25px;
        }

        .content li {
            margin-bottom: 8px;
            line-height: 1.6;
        }

        .content blockquote {
            border-left: 4px solid #007acc;
            background: #f8f9fa;
            margin: 20px 0;
            padding: 15px 20px;
            border-radius: 0 6px 6px 0;
        }

        .content code {
            background: #f8f9fa;
            padding: 2px 6px;
            border-radius: 4px;
            font-family: 'Monaco', 'Menlo', monospace;
            font-size: 0.9em;
            color: #e83e8c;
        }

        .content pre {
            background: #2d3748;
            color: #e2e8f0;
            padding: 20px;
            border-radius: 8px;
            overflow-x: auto;
            margin: 20px 0;
            font-family: 'Monaco', 'Menlo', monospace;
            font-size: 0.9em;
            line-height: 1.5;
        }

        .content pre code {
            background: none;
            color: inherit;
            padding: 0;
        }

        .content table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
            background: white;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }

        .content th, .content td {
            padding: 12px 15px;
            text-align: left;
            border-bottom: 1px solid #e1e4e8;
        }

        .content th {
            background: #f8f9fa;
            font-weight: 600;
            color: #2c3e50;
        }

        .content tr:hover {
            background: #f8f9fa;
        }

        .content a {
            color: #007acc;
            text-decoration: none;
            font-weight: 500;
        }

        .content a:hover {
            color: #0056b3;
            text-decoration: underline;
        }

        .footer {
            background: #f8f9fa;
            padding: 20px 30px;
            border-top: 1px solid #e1e4e8;
            text-align: center;
            color: #6c757d;
            font-size: 0.9em;
        }

        .doc-meta {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 8px;
            margin-bottom: 30px;
            border-left: 4px solid #007acc;
        }

        .doc-meta h3 {
            color: #007acc;
            margin-bottom: 10px;
            font-size: 1.1em;
        }

        .meta-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin-top: 15px;
        }

        .meta-item {
            background: white;
            padding: 10px 15px;
            border-radius: 6px;
            border: 1px solid #e1e4e8;
        }

        .meta-label {
            font-weight: 600;
            color: #495057;
            font-size: 0.9em;
        }

        .meta-value {
            color: #6c757d;
            font-size: 0.9em;
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            body { padding: 10px; }
            .content { padding: 20px; }
            .header { padding: 20px; }
            .nav-bar { padding: 15px 20px; }
            .nav-links { justify-content: center; }
            .header .meta { flex-direction: column; gap: 10px; }
        }

        /* Category-specific colors */
        .color-vision { --primary: #9c27b0; --secondary: #7b1fa2; }
        .color-roadmap { --primary: #007acc; --secondary: #0056b3; }
        .color-engine { --primary: #2c3e50; --secondary: #34495e; }
        .color-agent { --primary: #28a745; --secondary: #198754; }
        .color-brain { --primary: #6f42c1; --secondary: #495057; }
        .color-docker { --primary: #0db7ed; --secondary: #086dd7; }
        .color-mobile { --primary: #fd7e14; --secondary: #dc3545; }
        .color-protocol { --primary: #20c997; --secondary: #198754; }
        .color-scribe { --primary: #17a2b8; --secondary: #138496; }
        .color-groq { --primary: #ffc107; --secondary: #e0a800; }
        .color-task { --primary: #dc3545; --secondary: #c82333; }
        .color-cleanup { --primary: #6c757d; --secondary: #5a6268; }
        .color-quickstart { --primary: #28a745; --secondary: #198754; }
        .color-patch { --primary: #ff6b35; --secondary: #e55a32; }
        .color-rengine { --primary: #8b5cf6; --secondary: #7c3aed; }
        .color-default { --primary: #495057; --secondary: #6c757d; }
    </style>
</head>
<body class="color-agent">
    <div class="container">
        <header class="header">
            <div class="header-icon">ü§ñ</div>
            <h1>update-agent-requirements.js Documentation</h1>
            <div class="subtitle">Agent System</div>
            <div class="meta">
                <span>üìÅ update-agent-requirements.md</span>
                <span>üìÖ 2025-08-20</span>
                <span>üìä 6KB</span>
            </div>
        </header>

        <nav class="nav-bar">
            <div class="nav-links">
                <a href="../index.html" class="nav-link">üè† Documentation Home</a>
                <a href="../developmentstatus.html" class="nav-link">üìä Development Status</a>
                <a href="../generated/update-agent-requirements.md" class="nav-link">üìù View Source MD</a>
                <a href="../json/update-agent-requirements.json" class="nav-link">üîß JSON Data</a>
            </div>
        </nav>

        <main class="content">
            <h1 id="update-agent-requirementsjs-documentation">update-agent-requirements.js Documentation</h1>
<h2 id="purpose--overview">Purpose &amp; Overview</h2>
<p>This script is responsible for updating all agent memory files with the critical requirements specified in the <code>COPILOT_INSTRUCTIONS.md</code> file. It ensures that each agent&#39;s memory data contains the necessary information to comply with the system&#39;s protocols and standards.</p>
<p>The script performs the following key actions:</p>
<ol>
<li>Reads the <code>COPILOT_INSTRUCTIONS.md</code> file to extract the critical requirements.</li>
<li>Iterates through all the agent memory files in the <code>rAgentMemories</code> directory.</li>
<li>For each agent memory file, it ensures that the critical requirements are present and updates the file if necessary.</li>
<li>Additionally, it updates the <code>persistent-memory.json</code> file with the same critical requirements.</li>
</ol>
<p>This script helps maintain consistency and compliance across the entire system by enforcing the required standards and protocols in the agent memory files.</p>
<h2 id="technical-architecture">Technical Architecture</h2>
<p>The script is structured as follows:</p>
<ol>
<li><strong>Imports</strong>: The script imports the necessary modules, <code>fs</code> (file system) and <code>path</code> (for file path manipulation).</li>
<li><strong>Constants</strong>: It defines the <code>AGENT_MEMORY_DIR</code> constant, which is the directory path where the agent memory files are stored.</li>
<li><strong>CRITICAL_REQUIREMENTS</strong>: This object contains the critical requirements, including mandatory startup protocols, memory system paths, protocol enforcement steps, MCP integration details, and the Scribe Console information.</li>
<li><strong>AGENT_TYPES</strong>: This array lists the different types of agent memory files that the script will update.</li>
<li><strong>updateAgentMemory(agentFile)</strong>: This is the core function of the script. It takes an agent memory file as input and performs the following steps:<ul>
<li>Reads the existing agent memory file, if it exists.</li>
<li>Ensures that the agent data contains the critical requirements.</li>
<li>Updates the metadata to indicate compliance with the <code>COPILOT_INSTRUCTIONS.md</code> requirements.</li>
<li>Fixes any outdated memory paths in the agent data.</li>
<li>Writes the updated agent memory file.</li>
</ul>
</li>
<li><strong>Main script</strong>: The script iterates through the <code>AGENT_TYPES</code> array and calls the <code>updateAgentMemory()</code> function for each agent memory file.</li>
<li><strong>Persistent Memory Update</strong>: Finally, the script updates the <code>persistent-memory.json</code> file with the critical requirements.</li>
</ol>
<p>The overall data flow in the script is:</p>
<ol>
<li>Read agent memory files from the <code>AGENT_MEMORY_DIR</code> directory.</li>
<li>Update the agent memory files with the critical requirements.</li>
<li>Write the updated agent memory files back to the same directory.</li>
<li>Update the <code>persistent-memory.json</code> file with the critical requirements.</li>
</ol>
<h2 id="dependencies">Dependencies</h2>
<p>The script has the following dependencies:</p>
<ul>
<li><code>fs</code>: The built-in Node.js file system module, used for reading and writing files.</li>
<li><code>path</code>: The built-in Node.js path module, used for manipulating file paths.</li>
</ul>
<h2 id="key-functionsclasses">Key Functions/Classes</h2>
<h3 id="updateagentmemoryagentfile"><code>updateAgentMemory(agentFile)</code></h3>
<p><strong>Purpose</strong>: Updates the specified agent memory file with the critical requirements.</p>
<p><strong>Parameters</strong>:</p>
<ul>
<li><code>agentFile</code> (string): The name of the agent memory file to be updated.</li>
</ul>
<p><strong>Return Value</strong>: None</p>
<p><strong>Functionality</strong>:</p>
<ol>
<li>Constructs the full file path for the agent memory file.</li>
<li>Reads the existing agent memory file, if it exists.</li>
<li>Ensures that the agent data contains the critical requirements from <code>CRITICAL_REQUIREMENTS</code>.</li>
<li>Updates the metadata to indicate compliance with the <code>COPILOT_INSTRUCTIONS.md</code> requirements.</li>
<li>Fixes any outdated memory paths in the agent data.</li>
<li>Writes the updated agent memory file.</li>
</ol>
<h2 id="usage-examples">Usage Examples</h2>
<p>To use this script, simply run it in your terminal:</p>
<pre><code class="language-bash"><pre><code class="language-bash">node update-agent-requirements.js</code></pre>
</code></pre>
<p>The script will automatically update all the agent memory files in the <code>AGENT_MEMORY_DIR</code> directory with the critical requirements.</p>
<h2 id="configuration">Configuration</h2>
<p>The script uses the following configuration options:</p>
<ol>
<li><code>AGENT_MEMORY_DIR</code>: The directory where the agent memory files are stored. This is set to <code>/Volumes/DATA/GitHub/StackTrackr/rMemory/rAgentMemories</code> in the provided code.</li>
</ol>
<p>No additional configuration is required to run the script.</p>
<h2 id="error-handling">Error Handling</h2>
<p>The script handles errors that may occur during the update process. If an error occurs while updating a specific agent memory file, the script will log the error message and continue processing the next file.</p>
<p>If an error occurs while updating the <code>persistent-memory.json</code> file, the script will also log the error message.</p>
<h2 id="integration">Integration</h2>
<p>This script is an integral part of the StackTrackr system. It ensures that all agent memory files comply with the critical requirements specified in the <code>COPILOT_INSTRUCTIONS.md</code> file. This helps maintain consistency and reliability across the entire system.</p>
<p>The updated agent memory files and the persistent memory file are used by other components of the StackTrackr system, such as the GPT agents, the MCP integration, and the Scribe Console.</p>
<h2 id="development-notes">Development Notes</h2>
<ol>
<li><strong>Strict Compliance</strong>: The script enforces strict compliance with the critical requirements specified in the <code>COPILOT_INSTRUCTIONS.md</code> file. This helps maintain a reliable and consistent system.</li>
<li><strong>Automatic Updates</strong>: The script automatically updates the agent memory files and the persistent memory file, reducing the manual effort required to ensure compliance.</li>
<li><strong>Extensibility</strong>: The script is designed to be easily extensible. If the critical requirements change in the future, the <code>CRITICAL_REQUIREMENTS</code> object can be updated, and the script will automatically apply the changes to all agent memory files.</li>
<li><strong>Error Handling</strong>: The script includes robust error handling to ensure that the update process continues even if an individual agent memory file cannot be updated. This helps maintain the overall system stability.</li>
</ol>

        </main>

        <footer class="footer">
            <p>Generated from <strong>update-agent-requirements.md</strong> ‚Ä¢ StackTrackr Documentation System ‚Ä¢ Last updated: 2025-08-20</p>
        </footer>
    </div>
</body>
</html>