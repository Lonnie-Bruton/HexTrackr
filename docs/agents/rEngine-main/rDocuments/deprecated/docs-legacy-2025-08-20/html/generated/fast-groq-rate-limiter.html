<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Fast Groq Rate Limiter - StackTrackr Documentation</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', sans-serif;
            line-height: 1.6;
            color: #333;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            border-radius: 15px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
            overflow: hidden;
        }

        .header {
            background: linear-gradient(135deg, #ffc107 0%, #e0a800 100%);
            color: white;
            padding: 30px;
            text-align: center;
        }

        .header-icon {
            font-size: 3em;
            margin-bottom: 15px;
            opacity: 0.9;
        }

        .header h1 {
            font-size: 2.2em;
            margin-bottom: 10px;
            font-weight: 300;
        }

        .header .subtitle {
            font-size: 1.1em;
            opacity: 0.8;
            margin-bottom: 5px;
        }

        .header .meta {
            font-size: 0.9em;
            opacity: 0.7;
            display: flex;
            justify-content: center;
            gap: 20px;
            flex-wrap: wrap;
        }

        .nav-bar {
            background: #f8f9fa;
            padding: 15px 30px;
            border-bottom: 1px solid #e1e4e8;
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
            gap: 15px;
        }

        .nav-links {
            display: flex;
            gap: 15px;
            flex-wrap: wrap;
        }

        .nav-link {
            padding: 8px 16px;
            background: #007acc;
            color: white;
            text-decoration: none;
            border-radius: 6px;
            font-size: 0.9em;
            font-weight: 500;
            transition: all 0.3s ease;
        }

        .nav-link:hover {
            background: #0056b3;
            transform: translateY(-2px);
        }

        .content {
            padding: 40px;
            max-width: none;
        }

        .content h1, .content h2, .content h3, .content h4, .content h5, .content h6 {
            color: #2c3e50;
            margin-top: 30px;
            margin-bottom: 15px;
            font-weight: 600;
        }

        .content h1 { font-size: 2.2em; border-bottom: 3px solid #007acc; padding-bottom: 10px; }
        .content h2 { font-size: 1.8em; color: #007acc; }
        .content h3 { font-size: 1.4em; color: #495057; }
        .content h4 { font-size: 1.2em; color: #6c757d; }

        .content p {
            margin-bottom: 16px;
            line-height: 1.7;
            color: #444;
        }

        .content ul, .content ol {
            margin-bottom: 16px;
            padding-left: 25px;
        }

        .content li {
            margin-bottom: 8px;
            line-height: 1.6;
        }

        .content blockquote {
            border-left: 4px solid #007acc;
            background: #f8f9fa;
            margin: 20px 0;
            padding: 15px 20px;
            border-radius: 0 6px 6px 0;
        }

        .content code {
            background: #f8f9fa;
            padding: 2px 6px;
            border-radius: 4px;
            font-family: 'Monaco', 'Menlo', monospace;
            font-size: 0.9em;
            color: #e83e8c;
        }

        .content pre {
            background: #2d3748;
            color: #e2e8f0;
            padding: 20px;
            border-radius: 8px;
            overflow-x: auto;
            margin: 20px 0;
            font-family: 'Monaco', 'Menlo', monospace;
            font-size: 0.9em;
            line-height: 1.5;
        }

        .content pre code {
            background: none;
            color: inherit;
            padding: 0;
        }

        .content table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
            background: white;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }

        .content th, .content td {
            padding: 12px 15px;
            text-align: left;
            border-bottom: 1px solid #e1e4e8;
        }

        .content th {
            background: #f8f9fa;
            font-weight: 600;
            color: #2c3e50;
        }

        .content tr:hover {
            background: #f8f9fa;
        }

        .content a {
            color: #007acc;
            text-decoration: none;
            font-weight: 500;
        }

        .content a:hover {
            color: #0056b3;
            text-decoration: underline;
        }

        .footer {
            background: #f8f9fa;
            padding: 20px 30px;
            border-top: 1px solid #e1e4e8;
            text-align: center;
            color: #6c757d;
            font-size: 0.9em;
        }

        .doc-meta {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 8px;
            margin-bottom: 30px;
            border-left: 4px solid #007acc;
        }

        .doc-meta h3 {
            color: #007acc;
            margin-bottom: 10px;
            font-size: 1.1em;
        }

        .meta-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin-top: 15px;
        }

        .meta-item {
            background: white;
            padding: 10px 15px;
            border-radius: 6px;
            border: 1px solid #e1e4e8;
        }

        .meta-label {
            font-weight: 600;
            color: #495057;
            font-size: 0.9em;
        }

        .meta-value {
            color: #6c757d;
            font-size: 0.9em;
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            body { padding: 10px; }
            .content { padding: 20px; }
            .header { padding: 20px; }
            .nav-bar { padding: 15px 20px; }
            .nav-links { justify-content: center; }
            .header .meta { flex-direction: column; gap: 10px; }
        }

        /* Category-specific colors */
        .color-vision { --primary: #9c27b0; --secondary: #7b1fa2; }
        .color-roadmap { --primary: #007acc; --secondary: #0056b3; }
        .color-engine { --primary: #2c3e50; --secondary: #34495e; }
        .color-agent { --primary: #28a745; --secondary: #198754; }
        .color-brain { --primary: #6f42c1; --secondary: #495057; }
        .color-docker { --primary: #0db7ed; --secondary: #086dd7; }
        .color-mobile { --primary: #fd7e14; --secondary: #dc3545; }
        .color-protocol { --primary: #20c997; --secondary: #198754; }
        .color-scribe { --primary: #17a2b8; --secondary: #138496; }
        .color-groq { --primary: #ffc107; --secondary: #e0a800; }
        .color-task { --primary: #dc3545; --secondary: #c82333; }
        .color-cleanup { --primary: #6c757d; --secondary: #5a6268; }
        .color-quickstart { --primary: #28a745; --secondary: #198754; }
        .color-patch { --primary: #ff6b35; --secondary: #e55a32; }
        .color-rengine { --primary: #8b5cf6; --secondary: #7c3aed; }
        .color-default { --primary: #495057; --secondary: #6c757d; }
    </style>
</head>
<body class="color-groq">
    <div class="container">
        <header class="header">
            <div class="header-icon">‚ö°</div>
            <h1>Fast Groq Rate Limiter</h1>
            <div class="subtitle">AI Optimization</div>
            <div class="meta">
                <span>üìÅ fast-groq-rate-limiter.md</span>
                <span>üìÖ 2025-08-20</span>
                <span>üìä 7KB</span>
            </div>
        </header>

        <nav class="nav-bar">
            <div class="nav-links">
                <a href="../index.html" class="nav-link">üè† Documentation Home</a>
                <a href="../developmentstatus.html" class="nav-link">üìä Development Status</a>
                <a href="../generated/fast-groq-rate-limiter.md" class="nav-link">üìù View Source MD</a>
                <a href="../json/fast-groq-rate-limiter.json" class="nav-link">üîß JSON Data</a>
            </div>
        </nav>

        <main class="content">
            <h1 id="fast-groq-rate-limiter">Fast Groq Rate Limiter</h1>
<h2 id="purpose--overview">Purpose &amp; Overview</h2>
<p>The <code>fast-groq-rate-limiter.js</code> script provides an optimized and efficient rate limiter for the Groq query language. It is designed to handle a high volume of requests with minimal delays and aggressive rate limiting, ensuring Groq&#39;s high performance is maintained.</p>
<p>This rate limiter is particularly useful in scenarios where you need to interact with Groq-powered APIs and need to ensure your application stays within the specified rate limits. By using this limiter, you can avoid rate limit errors and handle retries in a controlled manner, leading to a more reliable and responsive application.</p>
<h2 id="technical-architecture">Technical Architecture</h2>
<p>The <code>FastGroqRateLimiter</code> class is the core component of this script. It uses a simple sliding window approach to track the number of requests made within a specific time frame (1 minute and 1 hour). The class has the following key components:</p>
<ol>
<li><strong>Request Tracking</strong>: The <code>requestTimes</code> array keeps track of the timestamps of all requests made. Old requests are periodically cleaned up to maintain the sliding window.</li>
<li><strong>Request Queue</strong>: The <code>queue</code> array stores pending requests that are waiting to be executed.</li>
<li><strong>Execution Control</strong>: The <code>isProcessing</code> flag is used to ensure that only one instance of the queue processing is active at a time.</li>
<li><strong>Rate Limit Checking</strong>: The <code>canMakeRequest()</code> method checks if the current request can be executed based on the configured rate limits.</li>
<li><strong>Request Execution</strong>: The <code>executeRequest()</code> method is responsible for executing a single request, recording its success, and handling any errors.</li>
<li><strong>Error Handling</strong>: The <code>handleError()</code> method determines if a request should be retried based on the error type and the configured maximum retries.</li>
<li><strong>Delay Calculation</strong>: The <code>calculateDelay()</code> method calculates the appropriate delay time for retrying a request, with different logic for rate limit errors and other errors.</li>
</ol>
<h2 id="dependencies">Dependencies</h2>
<p>This script imports the following dependencies:</p>
<ul>
<li><code>fs-extra</code>: A file system library with additional functionality beyond the built-in <code>fs</code> module.</li>
<li><code>path</code>: The built-in path manipulation module.</li>
</ul>
<h2 id="key-functionsclasses">Key Functions/Classes</h2>
<h3 id="fastgroqratelimiter-class"><code>FastGroqRateLimiter</code> Class</h3>
<p>The <code>FastGroqRateLimiter</code> class is the main component of this script. It provides the following methods:</p>
<table>
<thead>
<tr>
<th>Method</th>
<th>Parameters</th>
<th>Return Value</th>
<th>Description</th>
</tr>
</thead>
<tbody><tr>
<td><code>constructor(options)</code></td>
<td><code>options</code> (optional) - An object with configuration options</td>
<td>N/A</td>
<td>Initializes the rate limiter with the provided options or default values.</td>
</tr>
<tr>
<td><code>canMakeRequest()</code></td>
<td>N/A</td>
<td><code>boolean</code></td>
<td>Checks if the current request can be executed based on the configured rate limits.</td>
</tr>
<tr>
<td><code>request(fn, id)</code></td>
<td><code>fn</code> - The function to be executed<br><code>id</code> (optional) - A unique identifier for the request</td>
<td><code>Promise</code></td>
<td>Adds a new request to the queue and processes the queue.</td>
</tr>
<tr>
<td><code>processQueue()</code></td>
<td>N/A</td>
<td>N/A</td>
<td>Processes the request queue, executing requests that are within the rate limits.</td>
</tr>
<tr>
<td><code>executeRequest(request)</code></td>
<td><code>request</code> - An object representing the request to be executed</td>
<td>N/A</td>
<td>Executes a single request, records its success, and handles any errors.</td>
</tr>
<tr>
<td><code>handleError(request, error)</code></td>
<td><code>request</code> - The request object<br><code>error</code> - The error that occurred</td>
<td>N/A</td>
<td>Determines if a request should be retried and handles the error accordingly.</td>
</tr>
<tr>
<td><code>isRateLimitError(error)</code></td>
<td><code>error</code> - The error object</td>
<td><code>boolean</code></td>
<td>Checks if the error is a rate limit error.</td>
</tr>
<tr>
<td><code>isRetryableError(error)</code></td>
<td><code>error</code> - The error object</td>
<td><code>boolean</code></td>
<td>Checks if the error is a retryable error.</td>
</tr>
<tr>
<td><code>calculateDelay(attempt, isRateLimit)</code></td>
<td><code>attempt</code> - The number of attempts for the request<br><code>isRateLimit</code> (optional) - Whether the error is a rate limit error</td>
<td><code>number</code></td>
<td>Calculates the appropriate delay time for retrying a request.</td>
</tr>
<tr>
<td><code>getStats()</code></td>
<td>N/A</td>
<td><code>Object</code></td>
<td>Returns statistics about the rate limiter&#39;s current state.</td>
</tr>
</tbody></table>
<h2 id="usage-examples">Usage Examples</h2>
<p>Here&#39;s an example of how to use the <code>FastGroqRateLimiter</code> in your application:</p>
<pre><code class="language-javascript"><pre><code class="language-javascript">import FastGroqRateLimiter from './fast-groq-rate-limiter';

const limiter = new FastGroqRateLimiter({
  name: 'my-groq-app',
  maxRequestsPerMinute: 30,
  maxRequestsPerHour: 1000,
  maxRetries: 3,
  baseDelay: 500,
  maxDelay: 5000
});

async function fetchData() {
  try {
    const result = await limiter.request(async () => {
      // Your Groq query code here
      const data = await fetchFromGroq();
      return data;
    });
    console.log(result);
  } catch (error) {
    console.error('Error fetching data:', error);
  }
}

fetchData();</code></pre>
</code></pre>
<h2 id="configuration">Configuration</h2>
<p>The <code>FastGroqRateLimiter</code> class accepts the following configuration options in the constructor:</p>
<table>
<thead>
<tr>
<th>Option</th>
<th>Type</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead>
<tbody><tr>
<td><code>name</code></td>
<td><code>string</code></td>
<td><code>&#39;groq-fast&#39;</code></td>
<td>The name of the rate limiter, used for logging purposes.</td>
</tr>
<tr>
<td><code>maxRequestsPerMinute</code></td>
<td><code>number</code></td>
<td><code>25</code></td>
<td>The maximum number of requests allowed per minute.</td>
</tr>
<tr>
<td><code>maxRequestsPerHour</code></td>
<td><code>number</code></td>
<td><code>900</code></td>
<td>The maximum number of requests allowed per hour.</td>
</tr>
<tr>
<td><code>maxRetries</code></td>
<td><code>number</code></td>
<td><code>2</code></td>
<td>The maximum number of retries for a failed request.</td>
</tr>
<tr>
<td><code>baseDelay</code></td>
<td><code>number</code></td>
<td><code>200</code></td>
<td>The base delay (in milliseconds) for retrying a request.</td>
</tr>
<tr>
<td><code>maxDelay</code></td>
<td><code>number</code></td>
<td><code>2000</code></td>
<td>The maximum delay (in milliseconds) for retrying a request.</td>
</tr>
</tbody></table>
<h2 id="error-handling">Error Handling</h2>
<p>The <code>FastGroqRateLimiter</code> class handles two types of errors:</p>
<ol>
<li><strong>Rate Limit Errors</strong>: Errors related to rate limiting, such as HTTP status codes 429 (Too Many Requests) or 503 (Service Unavailable), or error messages containing keywords like &quot;rate limit&quot; or &quot;quota&quot;.</li>
<li><strong>Retryable Errors</strong>: Other errors, such as server errors (HTTP status codes 500+) or rate limit errors, that can be retried.</li>
</ol>
<p>When an error occurs, the <code>handleError()</code> method is called, which determines if the request should be retried based on the error type and the configured maximum retries. If the request can be retried, the method calculates the appropriate delay time and schedules the request to be retried. If the maximum number of retries has been reached, the error is propagated to the original caller.</p>
<h2 id="integration">Integration</h2>
<p>The <code>FastGroqRateLimiter</code> class is designed to be easily integrated into your application&#39;s Groq-related functionality. By wrapping your Groq requests with the <code>request()</code> method, you can ensure that your application stays within the configured rate limits and handles retries gracefully.</p>
<h2 id="development-notes">Development Notes</h2>
<ul>
<li>The rate limiter uses a simple sliding window approach to track the number of requests, which is efficient and easy to implement.</li>
<li>The <code>calculateDelay()</code> method uses different logic for rate limit errors and other errors to optimize the delay times.</li>
<li>The <code>isProcessing</code> flag is used to ensure that only one instance of the queue processing is active at a time, preventing race conditions.</li>
<li>The <code>getStats()</code> method provides useful information about the rate limiter&#39;s current state, which can be helpful for monitoring and debugging purposes.</li>
</ul>
<p>Overall, this <code>FastGroqRateLimiter</code> script provides a robust and efficient solution for managing rate limits in Groq-powered applications, helping to ensure high availability and performance.</p>

        </main>

        <footer class="footer">
            <p>Generated from <strong>fast-groq-rate-limiter.md</strong> ‚Ä¢ StackTrackr Documentation System ‚Ä¢ Last updated: 2025-08-20</p>
        </footer>
    </div>
</body>
</html>