<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Smart Scribe Memory Health Monitoring - StackTrackr Documentation</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', sans-serif;
            line-height: 1.6;
            color: #333;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            border-radius: 15px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
            overflow: hidden;
        }

        .header {
            background: linear-gradient(135deg, #495057 0%, #6c757d 100%);
            color: white;
            padding: 30px;
            text-align: center;
        }

        .header-icon {
            font-size: 3em;
            margin-bottom: 15px;
            opacity: 0.9;
        }

        .header h1 {
            font-size: 2.2em;
            margin-bottom: 10px;
            font-weight: 300;
        }

        .header .subtitle {
            font-size: 1.1em;
            opacity: 0.8;
            margin-bottom: 5px;
        }

        .header .meta {
            font-size: 0.9em;
            opacity: 0.7;
            display: flex;
            justify-content: center;
            gap: 20px;
            flex-wrap: wrap;
        }

        .nav-bar {
            background: #f8f9fa;
            padding: 15px 30px;
            border-bottom: 1px solid #e1e4e8;
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
            gap: 15px;
        }

        .nav-links {
            display: flex;
            gap: 15px;
            flex-wrap: wrap;
        }

        .nav-link {
            padding: 8px 16px;
            background: #007acc;
            color: white;
            text-decoration: none;
            border-radius: 6px;
            font-size: 0.9em;
            font-weight: 500;
            transition: all 0.3s ease;
        }

        .nav-link:hover {
            background: #0056b3;
            transform: translateY(-2px);
        }

        .content {
            padding: 40px;
            max-width: none;
        }

        .content h1, .content h2, .content h3, .content h4, .content h5, .content h6 {
            color: #2c3e50;
            margin-top: 30px;
            margin-bottom: 15px;
            font-weight: 600;
        }

        .content h1 { font-size: 2.2em; border-bottom: 3px solid #007acc; padding-bottom: 10px; }
        .content h2 { font-size: 1.8em; color: #007acc; }
        .content h3 { font-size: 1.4em; color: #495057; }
        .content h4 { font-size: 1.2em; color: #6c757d; }

        .content p {
            margin-bottom: 16px;
            line-height: 1.7;
            color: #444;
        }

        .content ul, .content ol {
            margin-bottom: 16px;
            padding-left: 25px;
        }

        .content li {
            margin-bottom: 8px;
            line-height: 1.6;
        }

        .content blockquote {
            border-left: 4px solid #007acc;
            background: #f8f9fa;
            margin: 20px 0;
            padding: 15px 20px;
            border-radius: 0 6px 6px 0;
        }

        .content code {
            background: #f8f9fa;
            padding: 2px 6px;
            border-radius: 4px;
            font-family: 'Monaco', 'Menlo', monospace;
            font-size: 0.9em;
            color: #e83e8c;
        }

        .content pre {
            background: #2d3748;
            color: #e2e8f0;
            padding: 20px;
            border-radius: 8px;
            overflow-x: auto;
            margin: 20px 0;
            font-family: 'Monaco', 'Menlo', monospace;
            font-size: 0.9em;
            line-height: 1.5;
        }

        .content pre code {
            background: none;
            color: inherit;
            padding: 0;
        }

        .content table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
            background: white;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }

        .content th, .content td {
            padding: 12px 15px;
            text-align: left;
            border-bottom: 1px solid #e1e4e8;
        }

        .content th {
            background: #f8f9fa;
            font-weight: 600;
            color: #2c3e50;
        }

        .content tr:hover {
            background: #f8f9fa;
        }

        .content a {
            color: #007acc;
            text-decoration: none;
            font-weight: 500;
        }

        .content a:hover {
            color: #0056b3;
            text-decoration: underline;
        }

        .footer {
            background: #f8f9fa;
            padding: 20px 30px;
            border-top: 1px solid #e1e4e8;
            text-align: center;
            color: #6c757d;
            font-size: 0.9em;
        }

        .doc-meta {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 8px;
            margin-bottom: 30px;
            border-left: 4px solid #007acc;
        }

        .doc-meta h3 {
            color: #007acc;
            margin-bottom: 10px;
            font-size: 1.1em;
        }

        .meta-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin-top: 15px;
        }

        .meta-item {
            background: white;
            padding: 10px 15px;
            border-radius: 6px;
            border: 1px solid #e1e4e8;
        }

        .meta-label {
            font-weight: 600;
            color: #495057;
            font-size: 0.9em;
        }

        .meta-value {
            color: #6c757d;
            font-size: 0.9em;
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            body { padding: 10px; }
            .content { padding: 20px; }
            .header { padding: 20px; }
            .nav-bar { padding: 15px 20px; }
            .nav-links { justify-content: center; }
            .header .meta { flex-direction: column; gap: 10px; }
        }

        /* Category-specific colors */
        .color-vision { --primary: #9c27b0; --secondary: #7b1fa2; }
        .color-roadmap { --primary: #007acc; --secondary: #0056b3; }
        .color-engine { --primary: #2c3e50; --secondary: #34495e; }
        .color-agent { --primary: #28a745; --secondary: #198754; }
        .color-brain { --primary: #6f42c1; --secondary: #495057; }
        .color-docker { --primary: #0db7ed; --secondary: #086dd7; }
        .color-mobile { --primary: #fd7e14; --secondary: #dc3545; }
        .color-protocol { --primary: #20c997; --secondary: #198754; }
        .color-scribe { --primary: #17a2b8; --secondary: #138496; }
        .color-groq { --primary: #ffc107; --secondary: #e0a800; }
        .color-task { --primary: #dc3545; --secondary: #c82333; }
        .color-cleanup { --primary: #6c757d; --secondary: #5a6268; }
        .color-quickstart { --primary: #28a745; --secondary: #198754; }
        .color-patch { --primary: #ff6b35; --secondary: #e55a32; }
        .color-rengine { --primary: #8b5cf6; --secondary: #7c3aed; }
        .color-default { --primary: #495057; --secondary: #6c757d; }
    </style>
</head>
<body class="color-default">
    <div class="container">
        <header class="header">
            <div class="header-icon">üìÑ</div>
            <h1>Smart Scribe Memory Health Monitoring</h1>
            <div class="subtitle">Documentation</div>
            <div class="meta">
                <span>üìÅ SMART_SCRIBE_MEMORY_MONITORING.md</span>
                <span>üìÖ 2025-08-19</span>
                <span>üìä 6KB</span>
            </div>
        </header>

        <nav class="nav-bar">
            <div class="nav-links">
                <a href="../index.html" class="nav-link">üè† Documentation Home</a>
                <a href="../developmentstatus.html" class="nav-link">üìä Development Status</a>
                <a href="../SMART_SCRIBE_MEMORY_MONITORING.md" class="nav-link">üìù View Source MD</a>
                <a href="../json/SMART_SCRIBE_MEMORY_MONITORING.json" class="nav-link">üîß JSON Data</a>
            </div>
        </nav>

        <main class="content">
            <h1 id="smart-scribe-memory-health-monitoring">Smart Scribe Memory Health Monitoring</h1>
<h2 id="overview">Overview</h2>
<p>Smart Scribe now includes comprehensive memory health monitoring that periodically verifies the integrity of both MCP Server Memory and rMemory Local Storage systems. This feature ensures continuous system reliability by detecting memory sync gaps, connectivity issues, and file corruption.</p>
<h2 id="features">Features</h2>
<h3 id="üîç-periodic-health-checks">üîç <strong>Periodic Health Checks</strong></h3>
<ul>
<li><strong>Frequency</strong>: Every 15 minutes during Smart Scribe operation</li>
<li><strong>Initial Check</strong>: 2 minutes after Smart Scribe startup (allows system stabilization)</li>
<li><strong>Coverage</strong>: Both MCP Server and local file systems</li>
</ul>
<h3 id="üß†-memory-system-monitoring">üß† <strong>Memory System Monitoring</strong></h3>
<ul>
<li><strong>MCP Server Connectivity</strong>: Validates connection to cloud-based knowledge graph</li>
<li><strong>Local File Integrity</strong>: Checks critical memory files for corruption/staleness</li>
<li><strong>Sync Gap Detection</strong>: Identifies time gaps between MCP and local systems</li>
<li><strong>Fallback Verification</strong>: Ensures local memory can operate when MCP is offline</li>
</ul>
<h3 id="üìã-incident-reporting">üìã <strong>Incident Reporting</strong></h3>
<ul>
<li><strong>Automatic AI Analysis</strong>: When issues detected, generates technical incident reports</li>
<li><strong>Structured Logging</strong>: Stores detailed reports in <code>rMemory/memory-scribe/logs/</code></li>
<li><strong>Historical Tracking</strong>: Maintains incident history in main <code>scribe.log</code></li>
<li><strong>Priority Classification</strong>: CRITICAL, WARNING, and HEALTHY status levels</li>
</ul>
<h2 id="architecture">Architecture</h2>
<h3 id="integration-points">Integration Points</h3>
<pre><code class="language-javascript"><pre><code class="language-javascript">// Smart Scribe Constructor
this.memoryMonitor = new SmartScribeMemoryMonitor();

// Periodic Monitoring (15-minute intervals)
startMemoryHealthMonitoring() {
    setInterval(() => {
        this.performMemoryHealthCheck();
    }, 15 * 60 * 1000);
}</code></pre>
</code></pre>
<h3 id="health-check-process">Health Check Process</h3>
<ol>
<li><strong>Connectivity Test</strong>: Verify MCP Server accessibility</li>
<li><strong>File Validation</strong>: Check critical local memory files</li>
<li><strong>Sync Analysis</strong>: Compare timestamps and detect gaps</li>
<li><strong>Report Generation</strong>: Create health status summary</li>
<li><strong>Issue Analysis</strong>: AI-powered incident analysis when problems detected</li>
<li><strong>Logging</strong>: Store reports and update system logs</li>
</ol>
<h2 id="critical-files-monitored">Critical Files Monitored</h2>
<table>
<thead>
<tr>
<th>File</th>
<th>Purpose</th>
<th>Health Criteria</th>
</tr>
</thead>
<tbody><tr>
<td><code>memory.json</code></td>
<td>Core agent memories</td>
<td>&lt; 24 hours old, valid JSON</td>
</tr>
<tr>
<td><code>handoff.json</code></td>
<td>Agent handoff logs</td>
<td>&lt; 24 hours old, valid JSON</td>
</tr>
<tr>
<td><code>tasks.json</code></td>
<td>Active task tracking</td>
<td>&lt; 24 hours old, valid JSON</td>
</tr>
<tr>
<td><code>persistent-memory.json</code></td>
<td>Long-term storage</td>
<td>&lt; 24 hours old, valid JSON</td>
</tr>
<tr>
<td><code>mcp-sync-summary.json</code></td>
<td>Sync operation logs</td>
<td>&lt; 24 hours old, valid JSON</td>
</tr>
</tbody></table>
<h2 id="health-status-levels">Health Status Levels</h2>
<h3 id="‚úÖ-healthy">‚úÖ <strong>HEALTHY</strong></h3>
<ul>
<li>MCP Server accessible</li>
<li>All local files present and recent</li>
<li>No sync gaps detected</li>
<li>System operating normally</li>
</ul>
<h3 id="‚ö†Ô∏è-warning">‚ö†Ô∏è <strong>WARNING</strong></h3>
<ul>
<li>MCP Server intermittent issues</li>
<li>Some files slightly stale (but &lt; 24 hours)</li>
<li>Minor sync delays detected</li>
<li>Local fallback operational</li>
</ul>
<h3 id="‚ùå-critical">‚ùå <strong>CRITICAL</strong></h3>
<ul>
<li>MCP Server completely offline</li>
<li>Critical files missing or severely stale</li>
<li>Major sync gaps (&gt; 24 hours)</li>
<li>System degraded functionality</li>
</ul>
<h2 id="incident-reports">Incident Reports</h2>
<p>When health issues are detected, Smart Scribe generates comprehensive incident reports:</p>
<h3 id="report-structure">Report Structure</h3>
<pre><code class="language-json"><pre><code class="language-json">{
  "timestamp": "2025-01-25T10:30:00.000Z",
  "type": "memory_health_incident",
  "health_report": {
    "overall_health": "CRITICAL",
    "mcp_status": "offline",
    "local_files": {...},
    "sync_gaps": {...}
  },
  "ai_analysis": "Root cause analysis and recommendations...",
  "generated_by": "smart_scribe_memory_monitor"
}</code></pre>
</code></pre>
<h3 id="ai-analysis-includes">AI Analysis Includes</h3>
<ul>
<li><strong>Root Cause Analysis</strong>: Technical investigation of detected issues</li>
<li><strong>Action Items</strong>: Immediate steps to resolve critical problems  </li>
<li><strong>Prevention</strong>: Measures to avoid future issues</li>
<li><strong>Impact Assessment</strong>: Effect on system reliability</li>
<li><strong>Monitoring Adjustments</strong>: Recommended frequency changes</li>
</ul>
<h2 id="usage">Usage</h2>
<h3 id="automatic-operation">Automatic Operation</h3>
<p>Memory monitoring activates automatically when Smart Scribe starts:</p>
<pre><code class="language-bash"><pre><code class="language-bash"># Start Smart Scribe (includes memory monitoring)
./start-smart-scribe.sh</code></pre>
</code></pre>
<h3 id="manual-health-check">Manual Health Check</h3>
<pre><code class="language-bash"><pre><code class="language-bash"># Direct memory health check
cd rEngine
node smart-scribe-memory-monitor.js health</code></pre>
</code></pre>
<h3 id="view-reports">View Reports</h3>
<pre><code class="language-bash"><pre><code class="language-bash"># Browse incident reports
ls rMemory/memory-scribe/logs/memory-incident-*.json

# Check main log
tail -f scribe.log | grep MEMORY_HEALTH</code></pre>
</code></pre>
<h2 id="configuration">Configuration</h2>
<h3 id="monitoring-intervals">Monitoring Intervals</h3>
<ul>
<li><strong>Health Checks</strong>: 15 minutes (configurable via <code>setInterval</code>)</li>
<li><strong>File Age Threshold</strong>: 24 hours (configurable via <code>maxFileAge</code>)</li>
<li><strong>Initial Delay</strong>: 2 minutes (allows system startup)</li>
</ul>
<h3 id="log-locations">Log Locations</h3>
<ul>
<li><strong>Incident Reports</strong>: <code>rMemory/memory-scribe/logs/memory-incident-{timestamp}.json</code></li>
<li><strong>System Log</strong>: <code>scribe.log</code> (MEMORY_HEALTH entries)</li>
<li><strong>Dashboard Status</strong>: <code>developmentstatus.html</code> (real-time display)</li>
</ul>
<h2 id="mcp-connectivity">MCP Connectivity</h2>
<p>Smart Scribe can access MCP Server from Ollama context:</p>
<ul>
<li><strong>Protocol</strong>: Network-based MCP communication</li>
<li><strong>Fallback</strong>: Local file system when MCP offline  </li>
<li><strong>Architecture</strong>: Standalone MCP server accessible to any client</li>
<li><strong>Reliability</strong>: Dual-path memory access ensures continuity</li>
</ul>
<h2 id="benefits">Benefits</h2>
<h3 id="üõ°Ô∏è-proactive-problem-detection">üõ°Ô∏è <strong>Proactive Problem Detection</strong></h3>
<ul>
<li>Identifies memory issues before they impact operations</li>
<li>Prevents data loss through early warning systems</li>
<li>Maintains system reliability through continuous monitoring</li>
</ul>
<h3 id="üîß-automated-incident-response">üîß <strong>Automated Incident Response</strong></h3>
<ul>
<li>AI-powered analysis of detected problems</li>
<li>Structured incident reports for rapid troubleshooting</li>
<li>Historical tracking enables pattern recognition</li>
</ul>
<h3 id="üìä-system-visibility">üìä <strong>System Visibility</strong></h3>
<ul>
<li>Real-time memory health status in development dashboard</li>
<li>Comprehensive logging for forensic analysis</li>
<li>Performance metrics for optimization decisions</li>
</ul>
<h2 id="troubleshooting">Troubleshooting</h2>
<h3 id="common-issues">Common Issues</h3>
<p><strong>MCP Server Offline</strong></p>
<ul>
<li>Check MCP process: <code>ps aux | grep mcp-server</code></li>
<li>Restart MCP: <code>npm run start-mcp</code></li>
<li>Verify network connectivity</li>
</ul>
<p><strong>Stale Local Files</strong></p>
<ul>
<li>Run memory sync: <code>./scripts/memory-sync-automation.sh manual</code></li>
<li>Check file permissions: <code>ls -la rMemory/rAgentMemories/</code></li>
<li>Validate JSON syntax: <code>node -e &quot;console.log(JSON.parse(fs.readFileSync(&#39;file.json&#39;)))&quot;</code></li>
</ul>
<p><strong>High Incident Volume</strong></p>
<ul>
<li>Adjust monitoring frequency in Smart Scribe</li>
<li>Check system resource usage</li>
<li>Review MCP server stability</li>
</ul>
<h2 id="future-enhancements">Future Enhancements</h2>
<ul>
<li><strong>Adaptive Monitoring</strong>: Frequency adjustment based on system load</li>
<li><strong>Predictive Analytics</strong>: ML-based failure prediction</li>
<li><strong>Integration Dashboard</strong>: Web-based memory health visualization</li>
<li><strong>Alert Channels</strong>: Slack/email notifications for critical incidents</li>
<li><strong>Performance Metrics</strong>: Memory system benchmarking and optimization</li>
</ul>
<hr>
<p><strong>Last Updated</strong>: January 25, 2025<br><strong>Version</strong>: 1.0.0<br><strong>Integration Status</strong>: ‚úÖ Active in Smart Scribe</p>

        </main>

        <footer class="footer">
            <p>Generated from <strong>SMART_SCRIBE_MEMORY_MONITORING.md</strong> ‚Ä¢ StackTrackr Documentation System ‚Ä¢ Last updated: 2025-08-19</p>
        </footer>
    </div>
</body>
</html>