<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mobile Development Checkin System - StackTrackr Documentation</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', sans-serif;
            line-height: 1.6;
            color: #333;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            border-radius: 15px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
            overflow: hidden;
        }

        .header {
            background: linear-gradient(135deg, #fd7e14 0%, #dc3545 100%);
            color: white;
            padding: 30px;
            text-align: center;
        }

        .header-icon {
            font-size: 3em;
            margin-bottom: 15px;
            opacity: 0.9;
        }

        .header h1 {
            font-size: 2.2em;
            margin-bottom: 10px;
            font-weight: 300;
        }

        .header .subtitle {
            font-size: 1.1em;
            opacity: 0.8;
            margin-bottom: 5px;
        }

        .header .meta {
            font-size: 0.9em;
            opacity: 0.7;
            display: flex;
            justify-content: center;
            gap: 20px;
            flex-wrap: wrap;
        }

        .nav-bar {
            background: #f8f9fa;
            padding: 15px 30px;
            border-bottom: 1px solid #e1e4e8;
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
            gap: 15px;
        }

        .nav-links {
            display: flex;
            gap: 15px;
            flex-wrap: wrap;
        }

        .nav-link {
            padding: 8px 16px;
            background: #007acc;
            color: white;
            text-decoration: none;
            border-radius: 6px;
            font-size: 0.9em;
            font-weight: 500;
            transition: all 0.3s ease;
        }

        .nav-link:hover {
            background: #0056b3;
            transform: translateY(-2px);
        }

        .content {
            padding: 40px;
            max-width: none;
        }

        .content h1, .content h2, .content h3, .content h4, .content h5, .content h6 {
            color: #2c3e50;
            margin-top: 30px;
            margin-bottom: 15px;
            font-weight: 600;
        }

        .content h1 { font-size: 2.2em; border-bottom: 3px solid #007acc; padding-bottom: 10px; }
        .content h2 { font-size: 1.8em; color: #007acc; }
        .content h3 { font-size: 1.4em; color: #495057; }
        .content h4 { font-size: 1.2em; color: #6c757d; }

        .content p {
            margin-bottom: 16px;
            line-height: 1.7;
            color: #444;
        }

        .content ul, .content ol {
            margin-bottom: 16px;
            padding-left: 25px;
        }

        .content li {
            margin-bottom: 8px;
            line-height: 1.6;
        }

        .content blockquote {
            border-left: 4px solid #007acc;
            background: #f8f9fa;
            margin: 20px 0;
            padding: 15px 20px;
            border-radius: 0 6px 6px 0;
        }

        .content code {
            background: #f8f9fa;
            padding: 2px 6px;
            border-radius: 4px;
            font-family: 'Monaco', 'Menlo', monospace;
            font-size: 0.9em;
            color: #e83e8c;
        }

        .content pre {
            background: #2d3748;
            color: #e2e8f0;
            padding: 20px;
            border-radius: 8px;
            overflow-x: auto;
            margin: 20px 0;
            font-family: 'Monaco', 'Menlo', monospace;
            font-size: 0.9em;
            line-height: 1.5;
        }

        .content pre code {
            background: none;
            color: inherit;
            padding: 0;
        }

        .content table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
            background: white;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }

        .content th, .content td {
            padding: 12px 15px;
            text-align: left;
            border-bottom: 1px solid #e1e4e8;
        }

        .content th {
            background: #f8f9fa;
            font-weight: 600;
            color: #2c3e50;
        }

        .content tr:hover {
            background: #f8f9fa;
        }

        .content a {
            color: #007acc;
            text-decoration: none;
            font-weight: 500;
        }

        .content a:hover {
            color: #0056b3;
            text-decoration: underline;
        }

        .footer {
            background: #f8f9fa;
            padding: 20px 30px;
            border-top: 1px solid #e1e4e8;
            text-align: center;
            color: #6c757d;
            font-size: 0.9em;
        }

        .doc-meta {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 8px;
            margin-bottom: 30px;
            border-left: 4px solid #007acc;
        }

        .doc-meta h3 {
            color: #007acc;
            margin-bottom: 10px;
            font-size: 1.1em;
        }

        .meta-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin-top: 15px;
        }

        .meta-item {
            background: white;
            padding: 10px 15px;
            border-radius: 6px;
            border: 1px solid #e1e4e8;
        }

        .meta-label {
            font-weight: 600;
            color: #495057;
            font-size: 0.9em;
        }

        .meta-value {
            color: #6c757d;
            font-size: 0.9em;
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            body { padding: 10px; }
            .content { padding: 20px; }
            .header { padding: 20px; }
            .nav-bar { padding: 15px 20px; }
            .nav-links { justify-content: center; }
            .header .meta { flex-direction: column; gap: 10px; }
        }

        /* Category-specific colors */
        .color-vision { --primary: #9c27b0; --secondary: #7b1fa2; }
        .color-roadmap { --primary: #007acc; --secondary: #0056b3; }
        .color-engine { --primary: #2c3e50; --secondary: #34495e; }
        .color-agent { --primary: #28a745; --secondary: #198754; }
        .color-brain { --primary: #6f42c1; --secondary: #495057; }
        .color-docker { --primary: #0db7ed; --secondary: #086dd7; }
        .color-mobile { --primary: #fd7e14; --secondary: #dc3545; }
        .color-protocol { --primary: #20c997; --secondary: #198754; }
        .color-scribe { --primary: #17a2b8; --secondary: #138496; }
        .color-groq { --primary: #ffc107; --secondary: #e0a800; }
        .color-task { --primary: #dc3545; --secondary: #c82333; }
        .color-cleanup { --primary: #6c757d; --secondary: #5a6268; }
        .color-quickstart { --primary: #28a745; --secondary: #198754; }
        .color-patch { --primary: #ff6b35; --secondary: #e55a32; }
        .color-rengine { --primary: #8b5cf6; --secondary: #7c3aed; }
        .color-default { --primary: #495057; --secondary: #6c757d; }
    </style>
</head>
<body class="color-mobile">
    <div class="container">
        <header class="header">
            <div class="header-icon">üì±</div>
            <h1>Mobile Development Checkin System</h1>
            <div class="subtitle">Mobile Development</div>
            <div class="meta">
                <span>üìÅ mobile-checkin.md</span>
                <span>üìÖ 2025-08-20</span>
                <span>üìä 8KB</span>
            </div>
        </header>

        <nav class="nav-bar">
            <div class="nav-links">
                <a href="../index.html" class="nav-link">üè† Documentation Home</a>
                <a href="../developmentstatus.html" class="nav-link">üìä Development Status</a>
                <a href="../scripts/mobile-checkin.md" class="nav-link">üìù View Source MD</a>
                <a href="../json/mobile-checkin.json" class="nav-link">üîß JSON Data</a>
            </div>
        </nav>

        <main class="content">
            <h1 id="mobile-development-checkin-system">Mobile Development Checkin System</h1>
<h2 id="overview">Overview</h2>
<p>The <code>mobile-checkin.js</code> script is a powerful tool designed to streamline the process of merging mobile development changes back into the main environment. It provides a comprehensive set of features to ensure a smooth and efficient integration process.</p>
<p>The key features of this script include:</p>
<ul>
<li>Extracting changes from a mobile checkout zip file</li>
<li>Comparing the extracted changes with the current state of the codebase</li>
<li>Merging non-conflicting changes automatically</li>
<li>Reporting any conflicts that require manual resolution</li>
<li>Updating the git status and memory system to keep track of the checkin progress</li>
</ul>
<p>This script is crucial for maintaining the integrity of the codebase and ensuring that mobile development changes are seamlessly integrated into the main environment.</p>
<h2 id="technical-architecture">Technical Architecture</h2>
<p>The <code>MobileCheckin</code> class is the core component of this script, and it encapsulates the entire checkin process. The class has the following key methods:</p>
<ol>
<li><code>validateCheckout()</code>: Ensures that the provided checkout package is valid and contains the necessary information.</li>
<li><code>extractChanges()</code>: Extracts the mobile changes from the provided zip file to a temporary directory.</li>
<li><code>analyzeDifferences()</code>: Compares the extracted changes with the current state of the codebase and identifies any modifications or new files.</li>
<li><code>mergeChanges()</code>: Merges the non-conflicting changes into the codebase, creating backups for sensitive files.</li>
<li><code>reportConflicts()</code>: Generates a report of any conflicts that require manual resolution.</li>
<li><code>updateMemorySystem()</code>: Updates the memory system with the details of the current checkin process.</li>
<li><code>generateCheckinReport()</code>: Generates a comprehensive report of the checkin process, including a human-readable summary.</li>
</ol>
<p>The script also includes several utility functions, such as <code>getFilesRecursively()</code>, <code>isSensitiveFile()</code>, <code>getFileSize()</code>, and <code>getGitStatus()</code>, which provide additional functionality to support the main checkin process.</p>
<h2 id="dependencies">Dependencies</h2>
<p>The <code>mobile-checkin.js</code> script relies on the following external dependencies:</p>
<ul>
<li><code>fs-extra</code>: Provides an enhanced file system API with additional functionality.</li>
<li><code>path</code>: Handles file and directory paths.</li>
<li><code>url</code>: Converts file URLs to file paths.</li>
<li><code>child_process</code>: Executes external commands and processes.</li>
<li><code>util</code>: Provides utility functions, including <code>promisify()</code> for converting callback-based functions to Promises.</li>
<li><code>unzipper</code>: Extracts files from a zip archive.</li>
</ul>
<h2 id="key-functions-and-classes">Key Functions and Classes</h2>
<h3 id="mobilecheckin-class"><code>MobileCheckin</code> Class</h3>
<p>The <code>MobileCheckin</code> class is the main entry point for the script and handles the entire checkin process.</p>
<h4 id="constructor">Constructor</h4>
<ul>
<li><code>constructor(checkoutId, zipPath)</code>: Initializes the class with the provided checkout ID and the path to the zip file (optional).</li>
</ul>
<h4 id="methods">Methods</h4>
<ul>
<li><code>start()</code>: Initiates the checkin process by calling the various helper methods in the correct order.</li>
<li><code>validateCheckout()</code>: Ensures that the provided checkout package is valid and contains the necessary information.</li>
<li><code>extractChanges()</code>: Extracts the mobile changes from the provided zip file to a temporary directory.</li>
<li><code>analyzeDifferences(tempDir)</code>: Compares the extracted changes with the current state of the codebase and identifies any modifications or new files.</li>
<li><code>mergeChanges(tempDir)</code>: Merges the non-conflicting changes into the codebase, creating backups for sensitive files.</li>
<li><code>reportConflicts()</code>: Generates a report of any conflicts that require manual resolution.</li>
<li><code>updateMemorySystem()</code>: Updates the memory system with the details of the current checkin process.</li>
<li><code>generateCheckinReport()</code>: Generates a comprehensive report of the checkin process, including a human-readable summary.</li>
</ul>
<h3 id="utility-functions">Utility Functions</h3>
<ul>
<li><code>getFilesRecursively(dir)</code>: Recursively retrieves all files within a given directory.</li>
<li><code>isSensitiveFile(filePath)</code>: Checks if a file path contains any sensitive terms (e.g., <code>.env</code>, <code>key</code>, <code>secret</code>, etc.).</li>
<li><code>getFileSize(filePath)</code>: Retrieves the size of a file in kilobytes.</li>
<li><code>getGitStatus()</code>: Retrieves the current git branch, commit, and whether there are any uncommitted changes.</li>
</ul>
<h2 id="usage-examples">Usage Examples</h2>
<p>To use the <code>mobile-checkin.js</code> script, you can run the following command from the command line:</p>
<pre><code><pre><code class="language-">node mobile-checkin.js <checkout-id> [zip-path]</code></pre>
</code></pre>
<ul>
<li><code>&lt;checkout-id&gt;</code>: The unique identifier for the mobile checkout.</li>
<li><code>[zip-path]</code>: (Optional) The path to the zip file containing the mobile changes. If not provided, the script will look for a file named <code>&lt;checkout-id&gt;.zip</code> in the base directory.</li>
</ul>
<p>For example:</p>
<pre><code><pre><code class="language-">node mobile-checkin.js mobile-123 /path/to/mobile-123.zip</code></pre>
</code></pre>
<p>This will initiate the checkin process for the mobile checkout with the ID <code>mobile-123</code> and the zip file located at <code>/path/to/mobile-123.zip</code>.</p>
<h2 id="configuration">Configuration</h2>
<p>The <code>mobile-checkin.js</code> script does not require any external configuration. However, it does rely on the following environment-specific information:</p>
<ul>
<li><code>baseDir</code>: The base directory where the project is located, which is set to <code>/Volumes/DATA/GitHub/StackTrackr</code> in the provided code.</li>
<li><code>memoryScript</code>: The path to the script that updates the memory system, which is set to <code>path.join(this.baseDir, &#39;rEngine&#39;, &#39;add-context.js&#39;)</code>.</li>
</ul>
<p>These values can be modified within the <code>MobileCheckin</code> class constructor or the <code>updateMemorySystem()</code> method, depending on the specific requirements of your project.</p>
<h2 id="error-handling">Error Handling</h2>
<p>The <code>mobile-checkin.js</code> script handles errors at various stages of the checkin process. If an error occurs, the script will log the error message and exit with a non-zero status code.</p>
<p>The script primarily uses <code>try-catch</code> blocks to handle errors, and it also provides information about the nature of the error and the affected files in the conflict report.</p>
<h2 id="integration">Integration</h2>
<p>The <code>mobile-checkin.js</code> script is designed to be a standalone tool that can be integrated into a larger system or workflow. It can be used as part of a continuous integration (CI) pipeline or as a manual step in the development process.</p>
<p>To integrate the script into a larger system, you can call the <code>start()</code> method of the <code>MobileCheckin</code> class from your own code, passing in the necessary parameters (checkout ID and zip file path).</p>
<h2 id="development-notes">Development Notes</h2>
<ol>
<li><p><strong>Sensitive File Handling</strong>: The script is designed to be extra careful when handling sensitive files, such as those containing API keys, secrets, or other confidential information. It creates backups of these files before merging changes to ensure that no sensitive data is lost or compromised.</p>
</li>
<li><p><strong>Memory System Integration</strong>: The script attempts to integrate with an existing memory system, but it also provides a fallback option to save the checkin context locally if the memory system is not available or accessible.</p>
</li>
<li><p><strong>Conflict Resolution</strong>: The script generates a detailed report of any conflicts that require manual resolution, including the affected file paths, the differences between the mobile and current versions, and any error messages. This report is intended to help developers quickly identify and resolve the conflicts.</p>
</li>
<li><p><strong>Reporting and Logging</strong>: The script provides comprehensive reporting and logging throughout the checkin process, including a human-readable summary and a detailed JSON report. This information can be used for auditing, troubleshooting, and process improvement.</p>
</li>
<li><p><strong>Extensibility</strong>: The <code>MobileCheckin</code> class is designed to be extensible, with the option to override or extend its behavior as needed to fit the specific requirements of your project.</p>
</li>
</ol>
<p>Overall, the <code>mobile-checkin.js</code> script is a powerful and flexible tool that can significantly streamline the mobile development integration process, ensuring a smooth and reliable transition of changes from the mobile environment to the main codebase.</p>

        </main>

        <footer class="footer">
            <p>Generated from <strong>mobile-checkin.md</strong> ‚Ä¢ StackTrackr Documentation System ‚Ä¢ Last updated: 2025-08-20</p>
        </footer>
    </div>
</body>
</html>