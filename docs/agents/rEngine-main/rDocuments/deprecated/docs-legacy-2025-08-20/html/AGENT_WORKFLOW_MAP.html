<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üó∫Ô∏è rEngine Platform Agent Workflow Map - StackTrackr Documentation</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', sans-serif;
            line-height: 1.6;
            color: #333;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            border-radius: 15px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
            overflow: hidden;
        }

        .header {
            background: linear-gradient(135deg, #28a745 0%, #198754 100%);
            color: white;
            padding: 30px;
            text-align: center;
        }

        .header-icon {
            font-size: 3em;
            margin-bottom: 15px;
            opacity: 0.9;
        }

        .header h1 {
            font-size: 2.2em;
            margin-bottom: 10px;
            font-weight: 300;
        }

        .header .subtitle {
            font-size: 1.1em;
            opacity: 0.8;
            margin-bottom: 5px;
        }

        .header .meta {
            font-size: 0.9em;
            opacity: 0.7;
            display: flex;
            justify-content: center;
            gap: 20px;
            flex-wrap: wrap;
        }

        .nav-bar {
            background: #f8f9fa;
            padding: 15px 30px;
            border-bottom: 1px solid #e1e4e8;
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
            gap: 15px;
        }

        .nav-links {
            display: flex;
            gap: 15px;
            flex-wrap: wrap;
        }

        .nav-link {
            padding: 8px 16px;
            background: #007acc;
            color: white;
            text-decoration: none;
            border-radius: 6px;
            font-size: 0.9em;
            font-weight: 500;
            transition: all 0.3s ease;
        }

        .nav-link:hover {
            background: #0056b3;
            transform: translateY(-2px);
        }

        .content {
            padding: 40px;
            max-width: none;
        }

        .content h1, .content h2, .content h3, .content h4, .content h5, .content h6 {
            color: #2c3e50;
            margin-top: 30px;
            margin-bottom: 15px;
            font-weight: 600;
        }

        .content h1 { font-size: 2.2em; border-bottom: 3px solid #007acc; padding-bottom: 10px; }
        .content h2 { font-size: 1.8em; color: #007acc; }
        .content h3 { font-size: 1.4em; color: #495057; }
        .content h4 { font-size: 1.2em; color: #6c757d; }

        .content p {
            margin-bottom: 16px;
            line-height: 1.7;
            color: #444;
        }

        .content ul, .content ol {
            margin-bottom: 16px;
            padding-left: 25px;
        }

        .content li {
            margin-bottom: 8px;
            line-height: 1.6;
        }

        .content blockquote {
            border-left: 4px solid #007acc;
            background: #f8f9fa;
            margin: 20px 0;
            padding: 15px 20px;
            border-radius: 0 6px 6px 0;
        }

        .content code {
            background: #f8f9fa;
            padding: 2px 6px;
            border-radius: 4px;
            font-family: 'Monaco', 'Menlo', monospace;
            font-size: 0.9em;
            color: #e83e8c;
        }

        .content pre {
            background: #2d3748;
            color: #e2e8f0;
            padding: 20px;
            border-radius: 8px;
            overflow-x: auto;
            margin: 20px 0;
            font-family: 'Monaco', 'Menlo', monospace;
            font-size: 0.9em;
            line-height: 1.5;
        }

        .content pre code {
            background: none;
            color: inherit;
            padding: 0;
        }

        .content table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
            background: white;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }

        .content th, .content td {
            padding: 12px 15px;
            text-align: left;
            border-bottom: 1px solid #e1e4e8;
        }

        .content th {
            background: #f8f9fa;
            font-weight: 600;
            color: #2c3e50;
        }

        .content tr:hover {
            background: #f8f9fa;
        }

        .content a {
            color: #007acc;
            text-decoration: none;
            font-weight: 500;
        }

        .content a:hover {
            color: #0056b3;
            text-decoration: underline;
        }

        .footer {
            background: #f8f9fa;
            padding: 20px 30px;
            border-top: 1px solid #e1e4e8;
            text-align: center;
            color: #6c757d;
            font-size: 0.9em;
        }

        .doc-meta {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 8px;
            margin-bottom: 30px;
            border-left: 4px solid #007acc;
        }

        .doc-meta h3 {
            color: #007acc;
            margin-bottom: 10px;
            font-size: 1.1em;
        }

        .meta-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin-top: 15px;
        }

        .meta-item {
            background: white;
            padding: 10px 15px;
            border-radius: 6px;
            border: 1px solid #e1e4e8;
        }

        .meta-label {
            font-weight: 600;
            color: #495057;
            font-size: 0.9em;
        }

        .meta-value {
            color: #6c757d;
            font-size: 0.9em;
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            body { padding: 10px; }
            .content { padding: 20px; }
            .header { padding: 20px; }
            .nav-bar { padding: 15px 20px; }
            .nav-links { justify-content: center; }
            .header .meta { flex-direction: column; gap: 10px; }
        }

        /* Category-specific colors */
        .color-vision { --primary: #9c27b0; --secondary: #7b1fa2; }
        .color-roadmap { --primary: #007acc; --secondary: #0056b3; }
        .color-engine { --primary: #2c3e50; --secondary: #34495e; }
        .color-agent { --primary: #28a745; --secondary: #198754; }
        .color-brain { --primary: #6f42c1; --secondary: #495057; }
        .color-docker { --primary: #0db7ed; --secondary: #086dd7; }
        .color-mobile { --primary: #fd7e14; --secondary: #dc3545; }
        .color-protocol { --primary: #20c997; --secondary: #198754; }
        .color-scribe { --primary: #17a2b8; --secondary: #138496; }
        .color-groq { --primary: #ffc107; --secondary: #e0a800; }
        .color-task { --primary: #dc3545; --secondary: #c82333; }
        .color-cleanup { --primary: #6c757d; --secondary: #5a6268; }
        .color-quickstart { --primary: #28a745; --secondary: #198754; }
        .color-patch { --primary: #ff6b35; --secondary: #e55a32; }
        .color-rengine { --primary: #8b5cf6; --secondary: #7c3aed; }
        .color-default { --primary: #495057; --secondary: #6c757d; }
    </style>
</head>
<body class="color-agent">
    <div class="container">
        <header class="header">
            <div class="header-icon">ü§ñ</div>
            <h1>üó∫Ô∏è rEngine Platform Agent Workflow Map</h1>
            <div class="subtitle">Agent System</div>
            <div class="meta">
                <span>üìÅ AGENT_WORKFLOW_MAP.md</span>
                <span>üìÖ 2025-08-19</span>
                <span>üìä 18KB</span>
            </div>
        </header>

        <nav class="nav-bar">
            <div class="nav-links">
                <a href="../index.html" class="nav-link">üè† Documentation Home</a>
                <a href="../developmentstatus.html" class="nav-link">üìä Development Status</a>
                <a href="../AGENT_WORKFLOW_MAP.md" class="nav-link">üìù View Source MD</a>
                <a href="../json/AGENT_WORKFLOW_MAP.json" class="nav-link">üîß JSON Data</a>
            </div>
        </nav>

        <main class="content">
            <h1 id="üó∫Ô∏è-rengine-platform-agent-workflow-map">üó∫Ô∏è rEngine Platform Agent Workflow Map</h1>
<p><em>Complete File Structure and Flow Documentation for v2.1.0</em></p>
<h2 id="üìã-table-of-contents">üìã <strong>Table of Contents</strong></h2>
<ol>
<li><a href="#entry-points--initialization">Entry Points &amp; Initialization</a></li>
<li><a href="#core-workflow-files">Core Workflow Files</a></li>
<li><a href="#memory-system-architecture">Memory System Architecture</a></li>
<li><a href="#mobile-development-system">Mobile Development System</a></li>
<li><a href="#docker-container-management">Docker Container Management</a></li>
<li><a href="#template--backup-system">Template &amp; Backup System</a></li>
<li><a href="#user-customization-guide">User Customization Guide</a></li>
<li><a href="#emergency-recovery">Emergency Recovery</a></li>
</ol>
<hr>
<h2 id="üöÄ-entry-points--initialization">üöÄ <strong>Entry Points &amp; Initialization</strong></h2>
<h3 id="primary-entry-point"><strong>Primary Entry Point</strong></h3>
<pre><code><pre><code class="language-">COPILOT_INSTRUCTIONS.md (Read-Write, Current)
‚îú‚îÄ‚îÄ Purpose: Main agent instructions and system access
‚îú‚îÄ‚îÄ Contains: Complete bootstrap protocol, memory sources, commands
‚îú‚îÄ‚îÄ Updates: Live updates as system evolves
‚îî‚îÄ‚îÄ Flow: ‚Üí one-click-startup.js ‚Üí recall.js ‚Üí ready state</code></pre>
</code></pre>
<h3 id="emergency-backup-entry-point"><strong>Emergency Backup Entry Point</strong></h3>
<pre><code><pre><code class="language-">START.md (Read-Only, Protected)
‚îú‚îÄ‚îÄ Purpose: Emergency backup when COPILOT_INSTRUCTIONS.md fails
‚îú‚îÄ‚îÄ Protection: Write-protected (chmod 444)
‚îú‚îÄ‚îÄ Usage: Human fallback only, not for agent updates
‚îî‚îÄ‚îÄ Restoration: Manual copy from COPILOT_INSTRUCTIONS.md when needed</code></pre>
</code></pre>
<h3 id="secondary-reference-points"><strong>Secondary Reference Points</strong></h3>
<pre><code><pre><code class="language-">AGENT.md (Read-Write, Reference)
‚îú‚îÄ‚îÄ Purpose: Quick protocol overview and critical warnings
‚îú‚îÄ‚îÄ Contains: Directory structure, mandatory steps, violations
‚îî‚îÄ‚îÄ Flow: ‚Üí COPILOT_INSTRUCTIONS.md ‚Üí rAgents/unified-workflow.md

AGENT_HANDOFF_SYSTEM_GUIDE.md (Read-Write, Documentation)
‚îú‚îÄ‚îÄ Purpose: Complete handoff system documentation
‚îú‚îÄ‚îÄ Contains: File structure, initialization commands, troubleshooting
‚îî‚îÄ‚îÄ Usage: Reference for understanding system architecture</code></pre>
</code></pre>
<hr>
<h2 id="‚öôÔ∏è-core-workflow-files">‚öôÔ∏è <strong>Core Workflow Files</strong></h2>
<h3 id="1-system-initialization"><strong>1. System Initialization</strong></h3>
<pre><code><pre><code class="language-">rEngine/
‚îú‚îÄ‚îÄ one-click-startup.js ‚≠ê CRITICAL ENTRY POINT
‚îÇ   ‚îú‚îÄ‚îÄ Purpose: Complete system initialization
‚îÇ   ‚îú‚îÄ‚îÄ Actions: Git backup, MCP start, Scribe launch, dashboard
‚îÇ   ‚îú‚îÄ‚îÄ Dependencies: universal-agent-init.js, agent-hello-workflow.js
‚îÇ   ‚îî‚îÄ‚îÄ Output: Live dashboard + ready state
‚îÇ
‚îú‚îÄ‚îÄ universal-agent-init.js
‚îÇ   ‚îú‚îÄ‚îÄ Purpose: Agent-specific initialization 
‚îÇ   ‚îú‚îÄ‚îÄ Actions: Memory file creation, protocol checks, context loading
‚îÇ   ‚îú‚îÄ‚îÄ Creates: rMemory/rAgentMemories/{agent}-memory.json
‚îÇ   ‚îî‚îÄ‚îÄ Flow: ‚Üí dual-memory-writer.js ‚Üí agent menu
‚îÇ
‚îú‚îÄ‚îÄ agent-hello-workflow.js
‚îÇ   ‚îú‚îÄ‚îÄ Purpose: Auto-detect new sessions and initialize
‚îÇ   ‚îú‚îÄ‚îÄ Status: Manual trigger (automatic detection needs implementation)
‚îÇ   ‚îú‚îÄ‚îÄ Actions: Hello detection, handoff reading, context presentation
‚îÇ   ‚îî‚îÄ‚îÄ Dependencies: recall.js, add-context.js
‚îÇ
‚îî‚îÄ‚îÄ enhanced-agent-init.js
    ‚îú‚îÄ‚îÄ Purpose: Advanced initialization with LLM optimization
    ‚îú‚îÄ‚îÄ Actions: System checks, memory init, LLM config, MCP setup
    ‚îú‚îÄ‚îÄ Creates: active-agent-profile.json, extendedcontext.json
    ‚îî‚îÄ‚îÄ Output: Agent profile with optimal configuration</code></pre>
</code></pre>
<h3 id="2-memory-operations"><strong>2. Memory Operations</strong></h3>
<pre><code><pre><code class="language-">rEngine/
‚îú‚îÄ‚îÄ recall.js ‚≠ê PRIMARY MEMORY ACCESS
‚îÇ   ‚îú‚îÄ‚îÄ Purpose: Fast memory search and retrieval
‚îÇ   ‚îú‚îÄ‚îÄ Usage: node recall.js "search term"
‚îÇ   ‚îú‚îÄ‚îÄ Speed: < 2 seconds for most queries
‚îÇ   ‚îî‚îÄ‚îÄ Sources: All agent memories, context files, handoffs
‚îÇ
‚îú‚îÄ‚îÄ memory-intelligence.js
‚îÇ   ‚îú‚îÄ‚îÄ Purpose: Advanced semantic search with patterns
‚îÇ   ‚îú‚îÄ‚îÄ Usage: node memory-intelligence.js recall "complex query"
‚îÇ   ‚îú‚îÄ‚îÄ Features: Temporal searches, pattern matching, relationships
‚îÇ   ‚îî‚îÄ‚îÄ Backend: Smart Scribe + Ollama integration
‚îÇ
‚îú‚îÄ‚îÄ add-context.js
‚îÇ   ‚îú‚îÄ‚îÄ Purpose: Add new discoveries to memory system
‚îÇ   ‚îú‚îÄ‚îÄ Usage: node add-context.js "title" "description" [type]
‚îÇ   ‚îú‚îÄ‚îÄ Actions: Dual memory write (MCP + file system)
‚îÇ   ‚îî‚îÄ‚îÄ Types: fix, feature, handoff, decision, etc.
‚îÇ
‚îî‚îÄ‚îÄ dual-memory-writer.js
    ‚îú‚îÄ‚îÄ Purpose: Ensure consistency between MCP and file memories
    ‚îú‚îÄ‚îÄ Actions: Sync MCP server with local JSON files
    ‚îú‚îÄ‚îÄ Prevents: Memory fragmentation and loss
    ‚îî‚îÄ‚îÄ Auto-called: By add-context.js and initialization scripts</code></pre>
</code></pre>
<h3 id="3-system-management"><strong>3. System Management</strong></h3>
<pre><code><pre><code class="language-">scripts/
‚îú‚îÄ‚îÄ git-checkpoint.sh
‚îÇ   ‚îú‚îÄ‚îÄ Purpose: Create git backup before significant changes
‚îÇ   ‚îú‚îÄ‚îÄ Auto-called: By one-click-startup.js and protocol checks
‚îÇ   ‚îú‚îÄ‚îÄ Actions: Stage all changes, commit with timestamp
‚îÇ   ‚îî‚îÄ‚îÄ Safety: Prevents work loss during agent transitions
‚îÇ
‚îú‚îÄ‚îÄ restart-full-scribe-system.sh
‚îÇ   ‚îú‚îÄ‚îÄ Purpose: Emergency restart of all background systems
‚îÇ   ‚îú‚îÄ‚îÄ Actions: Kill existing processes, restart MCP, launch Scribe
‚îÇ   ‚îú‚îÄ‚îÄ Usage: When systems become unresponsive
‚îÇ   ‚îî‚îÄ‚îÄ Recovery: Full system restoration
‚îÇ
‚îî‚îÄ‚îÄ protocol-compliance-checker.js
    ‚îú‚îÄ‚îÄ Purpose: Validate system state and protocol adherence
    ‚îú‚îÄ‚îÄ Checks: File containment, memory consistency, backup status
    ‚îú‚îÄ‚îÄ Actions: Auto-fix violations or alert user
    ‚îî‚îÄ‚îÄ Usage: node protocol-compliance-checker.js check</code></pre>
</code></pre>
<hr>
<h2 id="üß†-memory-system-architecture">üß† <strong>Memory System Architecture</strong></h2>
<h3 id="agent-specific-memories"><strong>Agent-Specific Memories</strong></h3>
<pre><code><pre><code class="language-">rMemory/rAgentMemories/
‚îú‚îÄ‚îÄ claude-memory.json (Claude sessions)
‚îú‚îÄ‚îÄ gpt-memory.json (GPT sessions)
‚îú‚îÄ‚îÄ github_copilot_memories.json (VS Code Copilot)
‚îú‚îÄ‚îÄ gemini-memory.json (Gemini sessions)
‚îú‚îÄ‚îÄ active-agent-profile.json (Current agent config)
‚îú‚îÄ‚îÄ extendedcontext.json (Cross-session context)
‚îú‚îÄ‚îÄ handoff.json (Agent transition data)
‚îú‚îÄ‚îÄ tasks.json (Current assignments & priorities)
‚îú‚îÄ‚îÄ decisions.json (Architectural decisions)
‚îú‚îÄ‚îÄ functions.json (Code ownership & responsibilities)
‚îî‚îÄ‚îÄ memory.json (Core project knowledge)</code></pre>
</code></pre>
<h3 id="shared-intelligence-sources"><strong>Shared Intelligence Sources</strong></h3>
<pre><code><pre><code class="language-">rMemory/rAgentMemories/
‚îú‚îÄ‚îÄ templates/ (Template system for restoration)
‚îÇ   ‚îú‚îÄ‚îÄ project-initialization.md
‚îÇ   ‚îú‚îÄ‚îÄ bug_resolution_template.md
‚îÇ   ‚îú‚îÄ‚îÄ theme-template.md
‚îÇ   ‚îî‚îÄ‚îÄ agent_readme.md
‚îÇ
‚îú‚îÄ‚îÄ notes/ (Development guidelines)
‚îÇ   ‚îú‚îÄ‚îÄ consolidated-development-guide.md
‚îÇ   ‚îú‚îÄ‚îÄ rengine-architecture-vision.md
‚îÇ   ‚îú‚îÄ‚îÄ naming-guidelines.md
‚îÇ   ‚îî‚îÄ‚îÄ patch-notes-guidelines.md
‚îÇ
‚îú‚îÄ‚îÄ tasks/ (Task management)
‚îÇ   ‚îú‚îÄ‚îÄ comprehensive-audit-task.md
‚îÇ   ‚îî‚îÄ‚îÄ agent-prompts.md
‚îÇ
‚îî‚îÄ‚îÄ catch-up-{timestamp}.md (Auto-generated summaries)</code></pre>
</code></pre>
<hr>
<h2 id="ÔøΩ-mobile-development-system">ÔøΩ <strong>Mobile Development System</strong></h2>
<h3 id="mobile-checkout-system"><strong>Mobile Checkout System</strong></h3>
<pre><code><pre><code class="language-">scripts/mobile-checkout.js (Mobile Development Package Creator)
‚îú‚îÄ‚îÄ Purpose: Create portable development environments
‚îú‚îÄ‚îÄ Features:
‚îÇ   ‚îú‚îÄ‚îÄ Git-ignored file analysis and packaging
‚îÇ   ‚îú‚îÄ‚îÄ API key extraction and masking
‚îÇ   ‚îú‚îÄ‚îÄ Mobile configuration generation with fallbacks
‚îÇ   ‚îî‚îÄ‚îÄ Secure zip package creation (29MB typical)
‚îÇ
‚îú‚îÄ‚îÄ Output Files:
‚îÇ   ‚îú‚îÄ‚îÄ mobile-checkout-{timestamp}.zip (Complete package)
‚îÇ   ‚îú‚îÄ‚îÄ mobile-checkout-{timestamp}-manifest.json (Package contents)
‚îÇ   ‚îî‚îÄ‚îÄ mobile-setup.sh (Auto-setup script)
‚îÇ
‚îî‚îÄ‚îÄ Command: npm run mobile-checkout</code></pre>
</code></pre>
<h3 id="mobile-environment-structure"><strong>Mobile Environment Structure</strong></h3>
<pre><code><pre><code class="language-">mobile-checkout-{timestamp}.zip Contents:
‚îú‚îÄ‚îÄ ignored-files/ (Git-ignored sensitive files)
‚îÇ   ‚îú‚îÄ‚îÄ openwebui-api-keys.env
‚îÇ   ‚îú‚îÄ‚îÄ rEngine/.env
‚îÇ   ‚îú‚îÄ‚îÄ rMemory/.env
‚îÇ   ‚îî‚îÄ‚îÄ All *secret*, *key*, *token* files
‚îÇ
‚îú‚îÄ‚îÄ mobile-configs/ (Fallback configurations)
‚îÇ   ‚îú‚îÄ‚îÄ mobile-config.json (API fallback settings)
‚îÇ   ‚îú‚îÄ‚îÄ environment-overrides.json (Mobile-specific configs)
‚îÇ   ‚îî‚îÄ‚îÄ api-key-map.json (Masked key references)
‚îÇ
‚îú‚îÄ‚îÄ mobile-setup.sh (One-click environment setup)
‚îú‚îÄ‚îÄ package.json (Mobile dependencies)
‚îî‚îÄ‚îÄ README-MOBILE.md (Setup instructions)</code></pre>
</code></pre>
<h3 id="mobile-checkin-system"><strong>Mobile Checkin System</strong></h3>
<pre><code><pre><code class="language-">scripts/mobile-checkin.js (Change Merge System)
‚îú‚îÄ‚îÄ Purpose: Merge mobile development back to main environment
‚îú‚îÄ‚îÄ Features:
‚îÇ   ‚îú‚îÄ‚îÄ Change analysis and conflict detection
‚îÇ   ‚îú‚îÄ‚îÄ Smart merge for non-conflicting files
‚îÇ   ‚îú‚îÄ‚îÄ Backup creation before merging
‚îÇ   ‚îî‚îÄ‚îÄ Memory system integration
‚îÇ
‚îú‚îÄ‚îÄ Output Files:
‚îÇ   ‚îú‚îÄ‚îÄ mobile-checkin-{timestamp}-report.json (Merge summary)
‚îÇ   ‚îú‚îÄ‚îÄ .backup-{timestamp}/ (Original file backups)
‚îÇ   ‚îî‚îÄ‚îÄ conflict-resolution-{timestamp}.md (Manual review guide)
‚îÇ
‚îî‚îÄ‚îÄ Command: npm run mobile-checkin mobile-checkout-{timestamp}</code></pre>
</code></pre>
<h3 id="api-fallback-configuration"><strong>API Fallback Configuration</strong></h3>
<pre><code><pre><code class="language-">mobile-configs/mobile-config.json Structure:
{
  "fallback_apis": {
    "openai": { "model": "gpt-4o-mini", "enabled": true },
    "anthropic": { "model": "claude-3-haiku", "enabled": true },
    "groq": { "model": "llama-3.1-70b", "enabled": false },
    "gemini": { "model": "gemini-1.5-pro", "enabled": true }
  },
  "mobile_limitations": {
    "no_docker": true,
    "no_ollama": true,
    "api_only": true,
    "lightweight_mode": true
  },
  "security": {
    "mask_keys_in_logs": true,
    "backup_before_merge": true,
    "write_protect_backups": true
  }
}</code></pre>
</code></pre>
<hr>
<h2 id="üê≥-docker-container-management">üê≥ <strong>Docker Container Management</strong></h2>
<h3 id="port-allocation-system-v210"><strong>Port Allocation System (v2.1.0)</strong></h3>
<pre><code><pre><code class="language-">docker-compose.yml Port Mapping:
‚îú‚îÄ‚îÄ Port Range: 3032-3038 (Dedicated, no conflicts)
‚îú‚îÄ‚îÄ Services:
‚îÇ   ‚îú‚îÄ‚îÄ nginx (Entry Point): 3032:80, 3038:443
‚îÇ   ‚îú‚îÄ‚îÄ stacktrackr-app: 3033:3000
‚îÇ   ‚îú‚îÄ‚îÄ rengine-platform: 3034:8080, 3035:8081
‚îÇ   ‚îú‚îÄ‚îÄ mcp-server: 3036:8082
‚îÇ   ‚îî‚îÄ‚îÄ development: 3037:8000
‚îÇ
‚îú‚îÄ‚îÄ Access Points:
‚îÇ   ‚îú‚îÄ‚îÄ üåê Main Entry: http://localhost:3032
‚îÇ   ‚îú‚îÄ‚îÄ üì± App Direct: http://localhost:3033
‚îÇ   ‚îú‚îÄ‚îÄ ü§ñ rEngine API: http://localhost:3034
‚îÇ   ‚îî‚îÄ‚îÄ üß† MCP Server: http://localhost:3036
‚îÇ
‚îî‚îÄ‚îÄ Benefits:
    ‚îú‚îÄ‚îÄ ‚úÖ Zero port conflicts with MCP Memory (port 3000)
    ‚îú‚îÄ‚îÄ ‚úÖ Professional multi-service architecture
    ‚îî‚îÄ‚îÄ ‚úÖ Easy service isolation and debugging</code></pre>
</code></pre>
<h3 id="docker-development-scripts"><strong>Docker Development Scripts</strong></h3>
<pre><code><pre><code class="language-">docker-dev.sh (Container Management)
‚îú‚îÄ‚îÄ Purpose: One-click Docker environment management
‚îú‚îÄ‚îÄ Commands:
‚îÇ   ‚îú‚îÄ‚îÄ ./docker-dev.sh start (Start all services)
‚îÇ   ‚îú‚îÄ‚îÄ ./docker-dev.sh stop (Stop all services)
‚îÇ   ‚îú‚îÄ‚îÄ ./docker-dev.sh restart (Restart all services)
‚îÇ   ‚îî‚îÄ‚îÄ ./docker-dev.sh logs [service] (View service logs)
‚îÇ
‚îú‚îÄ‚îÄ Features:
‚îÇ   ‚îú‚îÄ‚îÄ Health check validation
‚îÇ   ‚îú‚îÄ‚îÄ Service dependency management
‚îÇ   ‚îú‚îÄ‚îÄ Automatic port conflict detection
‚îÇ   ‚îî‚îÄ‚îÄ Development environment setup
‚îÇ
‚îî‚îÄ‚îÄ Integration: Works with mobile development system</code></pre>
</code></pre>
<h3 id="docker-requirement-validation"><strong>Docker Requirement Validation</strong></h3>
<pre><code><pre><code class="language-">scripts/docker-requirement-check.sh (System Validation)
‚îú‚îÄ‚îÄ Purpose: Validate Docker installation and requirements
‚îú‚îÄ‚îÄ Checks:
‚îÇ   ‚îú‚îÄ‚îÄ Docker installation and version
‚îÇ   ‚îú‚îÄ‚îÄ Docker daemon status
‚îÇ   ‚îú‚îÄ‚îÄ Available system resources
‚îÇ   ‚îî‚îÄ‚îÄ Port availability in 3032-3038 range
‚îÇ
‚îú‚îÄ‚îÄ Outputs:
‚îÇ   ‚îú‚îÄ‚îÄ Installation guidance for missing components
‚îÇ   ‚îú‚îÄ‚îÄ Resource recommendations
‚îÇ   ‚îî‚îÄ‚îÄ Port conflict resolution steps
‚îÇ
‚îî‚îÄ‚îÄ Integration: Called by one-click-startup.js</code></pre>
</code></pre>
<hr>
<h2 id="ÔøΩüìö-template--backup-system">ÔøΩüìö <strong>Template &amp; Backup System</strong></h2>
<h3 id="baseline-templates-for-recovery"><strong>Baseline Templates (For Recovery)</strong></h3>
<pre><code><pre><code class="language-">rMemory/rAgentMemories/templates/
‚îú‚îÄ‚îÄ project-initialization.md ‚≠ê PROJECT SETUP TEMPLATE
‚îÇ   ‚îú‚îÄ‚îÄ Purpose: Clean project structure template
‚îÇ   ‚îú‚îÄ‚îÄ Usage: Restore project setup when borked
‚îÇ   ‚îî‚îÄ‚îÄ Contains: Directory structure, essential files, protocols
‚îÇ
‚îú‚îÄ‚îÄ bug_resolution_template.md
‚îÇ   ‚îú‚îÄ‚îÄ Purpose: Standardized bug fixing workflow
‚îÇ   ‚îú‚îÄ‚îÄ Usage: Consistent debugging approach
‚îÇ   ‚îî‚îÄ‚îÄ Contains: Issue analysis, solution steps, verification
‚îÇ
‚îú‚îÄ‚îÄ theme-template.md
‚îÇ   ‚îú‚îÄ‚îÄ Purpose: UI theme customization template
‚îÇ   ‚îú‚îÄ‚îÄ Usage: Restore default styling when CSS breaks
‚îÇ   ‚îî‚îÄ‚îÄ Contains: Color schemes, layout patterns, components
‚îÇ
‚îî‚îÄ‚îÄ agent_readme.md
    ‚îú‚îÄ‚îÄ Purpose: Agent documentation template
    ‚îú‚îÄ‚îÄ Usage: Create new agent instruction sets
    ‚îî‚îÄ‚îÄ Contains: Standard agent protocols, capabilities, limits</code></pre>
</code></pre>
<h3 id="backup-locations"><strong>Backup Locations</strong></h3>
<pre><code><pre><code class="language-">backups/
‚îú‚îÄ‚îÄ rAgents-{timestamp}/ (Complete rAgents backup)
‚îú‚îÄ‚îÄ rEngine-{timestamp}/ (Complete rEngine backup)
‚îú‚îÄ‚îÄ mcp_memory/ (MCP server memory backups)
‚îî‚îÄ‚îÄ logs-{timestamp}/ (System log archives)

archive/
‚îú‚îÄ‚îÄ agents/ (Historical agent configurations)
‚îú‚îÄ‚îÄ tests/ (Test result archives)
‚îú‚îÄ‚îÄ root/ (Root file backups)
‚îî‚îÄ‚îÄ benchmark_results/ (Performance benchmarks)</code></pre>
</code></pre>
<hr>
<h2 id="üõ†Ô∏è-user-customization-guide">üõ†Ô∏è <strong>User Customization Guide</strong></h2>
<h3 id="safe-customization-areas"><strong>Safe Customization Areas</strong></h3>
<h4 id="1-agent-instructions-copilot_instructionsmd"><strong>1. Agent Instructions (COPILOT_INSTRUCTIONS.md)</strong></h4>
<pre><code class="language-yaml"><pre><code class="language-yaml">Customizable Sections:
  - Memory Sources: Add custom memory files
  - Smart Search Commands: Modify search patterns
  - Project Status: Update current workflow
  - Terminal Commands: Add custom automation

Backup Strategy:
  - Copy to START.md before major changes
  - Use git checkpoints frequently
  - Test changes with protocol-compliance-checker.js</code></pre>
</code></pre>
<h4 id="2-memory-templates"><strong>2. Memory Templates</strong></h4>
<pre><code class="language-yaml"><pre><code class="language-yaml">Template Files:
  - rMemory/rAgentMemories/templates/*.md
  - Modify for project-specific workflows
  - Add custom agent prompts
  - Create domain-specific templates

Restoration:
  - Keep original templates in backups/
  - Document changes in decisions.json
  - Version control custom templates</code></pre>
</code></pre>
<h4 id="3-system-scripts"><strong>3. System Scripts</strong></h4>
<pre><code class="language-yaml"><pre><code class="language-yaml">Customizable Scripts:
  - rEngine/recall.js: Modify search algorithms
  - rEngine/add-context.js: Add custom memory types
  - scripts/: Add project-specific automation

Safety Rules:
  - Always backup before modification
  - Test with small changes first
  - Document modifications in memory system</code></pre>
</code></pre>
<h3 id="configuration-points"><strong>Configuration Points</strong></h3>
<h4 id="memory-system-configuration"><strong>Memory System Configuration</strong></h4>
<pre><code class="language-javascript"><pre><code class="language-javascript">// rEngine/memory-intelligence.js
const CONFIG = {
  searchDepth: 3,           // Customizable: How deep to search
  maxResults: 20,           // Customizable: Result limit
  semanticThreshold: 0.7,   // Customizable: Relevance threshold
  temporalSearchDays: 30    // Customizable: Time window
}</code></pre>
</code></pre>
<h4 id="agent-initialization-settings"><strong>Agent Initialization Settings</strong></h4>
<pre><code class="language-javascript"><pre><code class="language-javascript">// rEngine/universal-agent-init.js
const AGENT_CONFIG = {
  memoryFileSize: "10MB",      // Customizable: Memory file limits
  backupFrequency: "session",  // Customizable: Backup frequency
  protocolLevel: "strict",     // Customizable: Enforcement level
  autoHandoff: false           // Customizable: Auto handoff detection
}</code></pre>
</code></pre>
<h4 id="docker-environment-settings"><strong>Docker Environment Settings</strong></h4>
<pre><code class="language-yaml"><pre><code class="language-yaml"># docker-compose.yml - Customizable ports and resources
services:
  stacktrackr-app:
    ports:
      - "3000:3000"    # Customizable: External port
    environment:
      - NODE_ENV=development  # Customizable: Environment</code></pre>
</code></pre>
<hr>
<h2 id="üÜò-emergency-recovery">üÜò <strong>Emergency Recovery</strong></h2>
<h3 id="complete-system-recovery"><strong>Complete System Recovery</strong></h3>
<pre><code class="language-bash"><pre><code class="language-bash"># 1. Emergency Stop
./docker-dev.sh stop
pkill -f "smart-scribe"
pkill -f "mcp"

# 2. Restore from Backup
cp START.md COPILOT_INSTRUCTIONS.md
cp -r backups/rAgents-latest/* rAgents/
cp -r backups/rEngine-latest/* rEngine/

# 3. Fresh Initialization  
cd rEngine && node one-click-startup.js
node protocol-compliance-checker.js check</code></pre>
</code></pre>
<h3 id="selective-recovery"><strong>Selective Recovery</strong></h3>
<h4 id="memory-system-recovery"><strong>Memory System Recovery</strong></h4>
<pre><code class="language-bash"><pre><code class="language-bash"># Restore memory templates
cp -r rMemory/rAgentMemories/templates/* rMemory/rAgentMemories/
rm rMemory/rAgentMemories/*-memory.json
node rEngine/universal-agent-init.js</code></pre>
</code></pre>
<h4 id="agent-instructions-recovery"><strong>Agent Instructions Recovery</strong></h4>
<pre><code class="language-bash"><pre><code class="language-bash"># Restore protected instructions
cp START.md COPILOT_INSTRUCTIONS.md
chmod 644 COPILOT_INSTRUCTIONS.md
node protocol-compliance-checker.js check</code></pre>
</code></pre>
<h4 id="docker-environment-recovery"><strong>Docker Environment Recovery</strong></h4>
<pre><code class="language-bash"><pre><code class="language-bash"># Reset containers
./docker-dev.sh down --volumes
./docker-dev.sh build --no-cache
./docker-dev.sh start</code></pre>
</code></pre>
<h3 id="validation-commands"><strong>Validation Commands</strong></h3>
<pre><code class="language-bash"><pre><code class="language-bash"># System Health Check
node protocol-compliance-checker.js check
node recall.js "system status" 
./scripts/docker-requirement-check.sh

# Memory Integrity Check
node memory-intelligence.js recall "recent work"
ls -la rMemory/rAgentMemories/*.json

# Container Health Check
./docker-dev.sh status
docker ps --format "table {{.Names}}\t{{.Status}}\t{{.Ports}}"</code></pre>
</code></pre>
<hr>
<h2 id="üìä-summary-complete-flow">üìä <strong>Summary: Complete Flow</strong></h2>
<pre><code class="language-mermaid"><pre><code class="language-mermaid">graph TD
    A[User Starts Session] --> B{Docker Check}
    B -->|Missing| C[Install Docker]
    B -->|OK| D[COPILOT_INSTRUCTIONS.md]
    C --> D
    D --> E[one-click-startup.js]
    E --> F[universal-agent-init.js]
    F --> G[recall.js "recent work"]
    G --> H[Agent Ready State]
    
    H --> I[Development Work]
    I --> J[add-context.js]
    J --> K[git checkpoint]
    K --> L[handoff.json]
    L --> M[Next Agent Session]
    M --> D
    
    D -->|Fails| N[START.md Emergency]
    N --> E
    
    E -->|Fails| O[Emergency Recovery]
    O --> P[Restore from Backups]
    P --> E</code></pre>
</code></pre>
<hr>
<h2 id="üéØ-key-principles">üéØ <strong>Key Principles</strong></h2>
<ol>
<li><strong>COPILOT_INSTRUCTIONS.md is the living document</strong> - always current</li>
<li><strong>START.md is the emergency backup</strong> - write-protected, manually updated</li>
<li><strong>Templates enable recovery</strong> - baseline configurations for restoration</li>
<li><strong>Memory is dual-stored</strong> - MCP + file system for redundancy</li>
<li><strong>Docker eliminates prompts</strong> - consistent environment across systems</li>
<li><strong>Git checkpoints prevent loss</strong> - automatic backups before changes</li>
<li><strong>Protocol compliance prevents violations</strong> - automatic validation and fixes</li>
</ol>
<p>*<strong>ÔøΩ This document should be updated whenever the workflow changes!</strong></p>
<hr>
<p><em>Last Updated: August 18, 2025</em><br><em>System: rEngine Platform v2.1.0</em><br><em>Status: Production Ready with Docker Integration</em></p>

        </main>

        <footer class="footer">
            <p>Generated from <strong>AGENT_WORKFLOW_MAP.md</strong> ‚Ä¢ StackTrackr Documentation System ‚Ä¢ Last updated: 2025-08-19</p>
        </footer>
    </div>
</body>
</html>